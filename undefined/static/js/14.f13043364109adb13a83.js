webpackJsonp([14],{Qz2r:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=a("0xDb"),s=a("bGai"),i={data:function(){return{rules:{title:[{required:!0,message:"专题名称不能为空，且最多输入20个字符",trigger:"blur"}]},params:{title:"",picture:"",introduction:"",isMore:!1}}},components:{upload:s.f,picker:s.e},methods:{selectChange:function(e){this.params.isMore=e},submit:function(){var e=this;this.$refs.form.validate(function(t){if(!t)return console.log("error submit!!"),!1;var a=e.params,s=a.title,i=a.picture,o=a.isMore,l=a.id,n=a.introduction,u=void 0;u="edit"===e.$route.params.type?e.params.module.id:e.$route.query.moduleId,e.$fly.post(r.a.saveSpecialTopicInfo,{id:l,title:s,picture:i,isMore:o,moduleId:u,introduction:n,status:1}).then(function(t){1e5===t.status?(e.$message({message:"保存成功",duration:2e3,type:"success"}),e.$refs.form.resetFields(),e.goBack()):e.$message({message:"保存失败",type:"error"})}).catch(function(){e.$message({message:"请求失败",duration:2e3,type:"error"})})})}},created:function(){var e=this,t=this.$route.params.type,a=this.$route.query.id;"edit"===t&&this.$fly.get(r.a.queryOneSpecialTopicInfo,{id:a}).then(function(t){1e5===t.status?e.params=t.data:e.$message({message:"查询失败",duration:2e3,type:"error"})})}},o=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"page"},[a("div",{staticClass:"tools-bar"},[a("div",{staticClass:"left-wrap"},[a("back")],1),e._v(" "),a("div",{staticClass:"button-wrap"},[a("el-button",{attrs:{type:"primary",size:"small"},on:{click:e.submit}},[e._v("保存")])],1)]),e._v(" "),a("el-form",{ref:"form",attrs:{model:e.params,rules:e.rules,"label-width":"80px"}},[a("el-form-item",{attrs:{label:"专题名称",prop:"title"}},[a("el-col",{attrs:{span:12}},[a("el-input",{attrs:{maxlength:"20"},model:{value:e.params.title,callback:function(t){e.$set(e.params,"title",t)},expression:"params.title"}})],1)],1),e._v(" "),a("el-form-item",{attrs:{label:"封面",prop:"picture"}},[a("upload",{model:{value:e.params.picture,callback:function(t){e.$set(e.params,"picture",t)},expression:"params.picture"}})],1),e._v(" "),a("el-form-item",{attrs:{label:"显示更多",prop:"isMore"}},[a("el-switch",{on:{change:e.selectChange},model:{value:e.params.isMore,callback:function(t){e.$set(e.params,"isMore",t)},expression:"params.isMore"}})],1),e._v(" "),a("el-form-item",{attrs:{label:"简介",prop:"introduction"}},[a("el-input",{attrs:{type:"textarea",rows:6,placeholder:"请输入简介"},model:{value:e.params.introduction,callback:function(t){e.$set(e.params,"introduction",t)},expression:"params.introduction"}})],1)],1)],1)};o._withStripped=!0;var l={render:o,staticRenderFns:[]},n=l;var u=a("VU/8")(i,n,!1,null,null,null);u.options.__file="src/pages/zhiyuan/special/add.vue";t.default=u.exports}});
//# sourceMappingURL=14.f13043364109adb13a83.js.map