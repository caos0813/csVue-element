{"version":3,"sources":["webpack:///./src/pages/xuanke/article/add.vue?8c1c","webpack:///src/pages/xuanke/article/add.vue","webpack:///./src/pages/xuanke/article/add.vue?d713","webpack:///./src/pages/xuanke/article/add.vue","webpack:///./src/pages/xuanke/article/add.vue?704d"],"names":["content","__webpack_require__","module","i","locals","exports","add","data","rules","title","required","message","trigger","image","type","audioPath","pickerVal","validator","rule","value","callback","length","Error","params","isHomePageShow","audioFlag","isAudioFlag","timeDialog","addForm","publishTime","pickerOptions2","disabledDate","time","getTime","Date","now","formRules","components","upload","Tinymce","picker","methods","release","this","postData","utils","articlePublishNow","timeRelease","_this","$refs","validate","valid","resetFields","save","articlePublishDelay","cancel","submit","articleHandle","refs","link","status","_this2","console","log","_params","id","textarea","$fly","post","specialTopicId","productId","then","$message","duration","goBack","catch","created","_this3","$route","query","get","articleDetail","product","specialTopic","lodash","isNull","render","_vm","_h","$createElement","_c","_self","staticClass","_v","attrs","size","on","click","ref","model","label-width","label","prop","column","$$v","$set","expression","span","true-label","false-label","disabled","accept","path","placeholder","rows","_e","directives","name","rawName","height","visible","width","close-on-click-modal","update:visible","$event","inline-message","label-suffix","picker-options","slot","_withStripped","esExports","staticRenderFns","article_add","disposed","Component","normalizeComponent","ssrContext","options","__file","__webpack_exports__","push","version","sources","names","mappings","file","sourceRoot"],"mappings":"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","file":"static/js/11.82c2759c1c970d6f2dc2.js","sourcesContent":["// style-loader: Adds some css to the DOM by adding a <style> tag\n\n// load the styles\nvar content = require(\"!!../../../../node_modules/css-loader/index.js?{\\\"sourceMap\\\":true}!../../../../node_modules/vue-loader/lib/style-compiler/index.js?{\\\"vue\\\":true,\\\"id\\\":\\\"data-v-06e4ff7e\\\",\\\"scoped\\\":true,\\\"hasInlineConfig\\\":false}!../../../../node_modules/sass-loader/lib/loader.js?{\\\"sourceMap\\\":true}!../../../../node_modules/sass-resources-loader/lib/loader.js?{\\\"resources\\\":\\\"D:\\\\\\\\work\\\\\\\\junyang_admin\\\\\\\\src\\\\\\\\assets\\\\\\\\sass\\\\\\\\var.scss\\\"}!../../../../node_modules/vue-loader/lib/selector.js?type=styles&index=0!./add.vue\");\nif(typeof content === 'string') content = [[module.id, content, '']];\nif(content.locals) module.exports = content.locals;\n// add the styles to the DOM\nvar update = require(\"!../../../../node_modules/vue-style-loader/lib/addStylesClient.js\")(\"1a45d4b4\", content, false, {});\n// Hot Module Replacement\nif(module.hot) {\n // When the styles change, update the <style> tags\n if(!content.locals) {\n   module.hot.accept(\"!!../../../../node_modules/css-loader/index.js?{\\\"sourceMap\\\":true}!../../../../node_modules/vue-loader/lib/style-compiler/index.js?{\\\"vue\\\":true,\\\"id\\\":\\\"data-v-06e4ff7e\\\",\\\"scoped\\\":true,\\\"hasInlineConfig\\\":false}!../../../../node_modules/sass-loader/lib/loader.js?{\\\"sourceMap\\\":true}!../../../../node_modules/sass-resources-loader/lib/loader.js?{\\\"resources\\\":\\\"D:\\\\\\\\work\\\\\\\\junyang_admin\\\\\\\\src\\\\\\\\assets\\\\\\\\sass\\\\\\\\var.scss\\\"}!../../../../node_modules/vue-loader/lib/selector.js?type=styles&index=0!./add.vue\", function() {\n     var newContent = require(\"!!../../../../node_modules/css-loader/index.js?{\\\"sourceMap\\\":true}!../../../../node_modules/vue-loader/lib/style-compiler/index.js?{\\\"vue\\\":true,\\\"id\\\":\\\"data-v-06e4ff7e\\\",\\\"scoped\\\":true,\\\"hasInlineConfig\\\":false}!../../../../node_modules/sass-loader/lib/loader.js?{\\\"sourceMap\\\":true}!../../../../node_modules/sass-resources-loader/lib/loader.js?{\\\"resources\\\":\\\"D:\\\\\\\\work\\\\\\\\junyang_admin\\\\\\\\src\\\\\\\\assets\\\\\\\\sass\\\\\\\\var.scss\\\"}!../../../../node_modules/vue-loader/lib/selector.js?type=styles&index=0!./add.vue\");\n     if(typeof newContent === 'string') newContent = [[module.id, newContent, '']];\n     update(newContent);\n   });\n }\n // When the module is disposed, remove the <style> tags\n module.hot.dispose(function() { update(); });\n}\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/vue-style-loader!./node_modules/css-loader?{\"sourceMap\":true}!./node_modules/vue-loader/lib/style-compiler?{\"vue\":true,\"id\":\"data-v-06e4ff7e\",\"scoped\":true,\"hasInlineConfig\":false}!./node_modules/sass-loader/lib/loader.js?{\"sourceMap\":true}!./node_modules/sass-resources-loader/lib/loader.js?{\"resources\":\"D://work//junyang_admin//src//assets//sass//var.scss\"}!./node_modules/vue-loader/lib/selector.js?type=styles&index=0!./src/pages/xuanke/article/add.vue\n// module id = I8Ku\n// module chunks = 11","<template>\r\n  <div class=\"page\">\r\n    <div class=\"tools-bar\">\r\n      <div class=\"left-wrap\">\r\n        <back></back>\r\n      </div>\r\n      <div class=\"button-wrap\">\r\n        <el-button type=\"primary\" size=\"small\" @click=\"release\">直接发布</el-button>\r\n        <el-button type=\"info\" size=\"small\" @click=\"timeRelease\">定时发布</el-button>\r\n        <el-button type=\"warning\" size=\"small\" @click=\"submit\">草稿</el-button>\r\n      </div>\r\n    </div>\r\n    <el-form ref=\"form\" :model=\"params\" :rules=\"rules\" label-width=\"80px\">\r\n      <el-form-item label=\"专题\" prop=\"pickerVal\">\r\n         <!-- v-if=\"params.pickerVal.length>0\" -->\r\n        <picker v-model=\"params.pickerVal\" :column=\"2\"></picker>\r\n        <el-col :span='4'>\r\n          <el-form-item label-width=\"20px\">\r\n            <template>\r\n              <el-checkbox v-model=\"params.audioFlag\" :true-label='1' :false-label='0' :disabled=\"isAudioFlag\">音频</el-checkbox>\r\n            </template>\r\n          </el-form-item>\r\n        </el-col>\r\n      </el-form-item>\r\n      <el-form-item label=\"标题\" prop=\"title\">\r\n        <el-col :span='12'>\r\n          <el-input v-model=\"params.title\"></el-input>\r\n        </el-col>\r\n        <el-col :span='4'>\r\n          <el-form-item label-width=\"20px\">\r\n            <template>\r\n              <el-checkbox v-model=\"params.isHomePageShow\" :true-label='1' :false-label='0'>首页显示</el-checkbox>\r\n            </template>\r\n          </el-form-item>\r\n        </el-col>\r\n      </el-form-item>\r\n      <div v-if=\"params.audioFlag===1\">\r\n        <el-form-item label=\"音频\" prop=\"audioPath\">\r\n          <upload v-model=\"params.audioPath\" type=\"audio\" accept=\"audio/*\" path=\"audio/article/\"></upload>\r\n        </el-form-item>\r\n        <el-form-item label=\"音频描述\" prop=\"textarea\">\r\n          <el-col :span='12'>\r\n            <el-input v-model=\"params.textarea\" placeholder=\"请输入音频描述\" type=\"textarea\" :rows=\"6\"></el-input>\r\n          </el-col>\r\n        </el-form-item>\r\n      </div>\r\n      <div v-show=\"params.audioFlag!==1\">\r\n        <el-form-item label=\"封面\" :prop=\"!params.audioFlag?'image':''\">\r\n          <upload v-model=\"params.image\" path=\"image/article/\"></upload>\r\n        </el-form-item>\r\n        <el-form-item :prop=\"!params.audioFlag?'content':''\">\r\n          <el-col :span=\"18\">\r\n            <Tinymce :height=\"600\" ref=\"editor\" v-model=\"params.content\" />\r\n          </el-col>\r\n        </el-form-item>\r\n      </div>\r\n    </el-form>\r\n    <el-dialog title=\"定时发布\" :visible.sync=\"timeDialog\" width=\"500px\" :close-on-click-modal=\"false\">\r\n      <el-form :model=\"addForm\" inline-message ref=\"addForm\" :rules=\"formRules\" label-suffix=\":\" label-width=\"100\">\r\n        <el-form-item label=\"发布时间\" prop=\"publishTime\">\r\n          <el-col :span='12'>\r\n            <el-date-picker v-model=\"addForm.publishTime\" type=\"datetime\" :picker-options=\"pickerOptions2\" placeholder=\"请选择发布时间\" class=\"full\">\r\n            </el-date-picker>\r\n          </el-col>\r\n        </el-form-item>\r\n      </el-form>\r\n      <span slot=\"footer\" class=\"dialog-footer\">\r\n        <el-button @click=\"cancel\">取消</el-button>\r\n        <el-button type=\"primary\" @click=\"save\">确定</el-button>\r\n      </span>\r\n    </el-dialog>\r\n  </div>\r\n</template>\r\n<script>\r\nimport Tinymce from '@/components/Tinymce'\r\nimport { api } from '@/utils'\r\nimport { upload, picker } from '@/components'\r\nexport default {\r\n  data () {\r\n    let validatePickerVal = (rule, value, callback) => {\r\n      if (value.length < 2) {\r\n        callback(new Error('请选择产品分类和专题'))\r\n      } else {\r\n        callback()\r\n      }\r\n    }\r\n    return {\r\n      rules: {\r\n        title: [{ required: true, message: '请输入专题名称', trigger: 'blur' }],\r\n        content: [{ required: true, message: '请输入内容', trigger: 'blur' }],\r\n        // textarea: [{ required: true, message: '请输入音频描述', trigger: 'blur' }],\r\n        image: [{ type: 'string', required: true, message: '请上传封面', trigger: 'blur' }],\r\n        audioPath: [{ required: true, message: '请上传音频', trigger: 'blur' }],\r\n        pickerVal: [{ required: true, validator: validatePickerVal, trigger: 'change' }]\r\n      },\r\n      params: {\r\n        title: '',\r\n        isHomePageShow: 0,\r\n        audioFlag: 0,\r\n        pickerVal: [],\r\n        image: ''\r\n      },\r\n      isAudioFlag: false,\r\n      timeDialog: false,\r\n      addForm: {\r\n        publishTime: ''\r\n      },\r\n      pickerOptions2: {\r\n        disabledDate (time) {\r\n          return time.getTime() < Date.now() - 8.64e7\r\n        }\r\n      },\r\n      formRules: {\r\n        publishTime: [{ type: 'date', required: true, message: '时间不能为空', trigger: 'change' }]\r\n      }\r\n    }\r\n  },\r\n  components: {\r\n    upload,\r\n    Tinymce,\r\n    picker\r\n  },\r\n  methods: {\r\n    // 直接发布\r\n    release () {\r\n      this.postData('form', api.articlePublishNow, 1)\r\n    },\r\n    timeRelease () {\r\n      this.$refs['form'].validate((valid) => {\r\n        if (valid) {\r\n          this.timeDialog = true\r\n          if (this.$refs['addForm']) {\r\n            this.$refs['addForm'].resetFields()\r\n          }\r\n        }\r\n      })\r\n    },\r\n    // 定时发布\r\n    save () {\r\n      this.postData('addForm', api.articlePublishDelay, 4)\r\n    },\r\n    cancel () {\r\n      this.$refs['addForm'].resetFields()\r\n      this.timeDialog = false\r\n    },\r\n    // 保存为草稿\r\n    submit () {\r\n      this.postData('form', api.articleHandle, 2)\r\n    },\r\n    postData (refs, link, status) {\r\n      this.$refs[refs].validate((valid) => {\r\n        if (valid) {\r\n          let { title, isHomePageShow, image, pickerVal, id, content, audioPath, audioFlag, textarea } = this.params\r\n          let publishTime = this.timeDialog ? new Date(this.addForm.publishTime).getTime() : null\r\n          this.$fly.post(link, {\r\n            id,\r\n            title,\r\n            audioPath: audioFlag ? audioPath : null,\r\n            isHomePageShow,\r\n            publishTime: publishTime,\r\n            image: audioFlag ? null : image,\r\n            content: audioFlag ? textarea : content,\r\n            specialTopicId: pickerVal[1],\r\n            productId: pickerVal[0],\r\n            status: status\r\n          }).then(data => {\r\n            this.$message({\r\n              message: '保存成功',\r\n              duration: 2000,\r\n              type: 'success'\r\n            })\r\n            this.$refs['form'].resetFields()\r\n            this.timeDialog = false\r\n            this.goBack()\r\n          }).catch(() => {\r\n            this.$message({\r\n              message: '保存失败',\r\n              duration: 2000,\r\n              type: 'error'\r\n            })\r\n          })\r\n        } else {\r\n          console.log('error submit!!')\r\n          return false\r\n        }\r\n      })\r\n    }\r\n  },\r\n  created () {\r\n    let { type } = this.$route.params\r\n    let { id } = this.$route.query\r\n    if (type === 'edit') {\r\n      this.$fly.get(api.articleDetail, {\r\n        id\r\n      }).then(data => {\r\n        this.params = data\r\n        this.params.pickerVal = [data.product.id, data.specialTopic.id]\r\n        if (this.lodash.isNull(data.audioPath)) {\r\n          this.params.audioFlag = 0\r\n          this.isAudioFlag = true\r\n        } else {\r\n          this.params.audioFlag = 1\r\n          this.isAudioFlag = true\r\n          this.params.textarea = data.content\r\n        }\r\n        console.log(this.params.pickerVal)\r\n      })\r\n    }\r\n  }\r\n}\r\n</script>\r\n<style lang=\"scss\" scoped>\r\n</style>\r\n\n\n\n// WEBPACK FOOTER //\n// src/pages/xuanke/article/add.vue","var render = function() {\n  var _vm = this\n  var _h = _vm.$createElement\n  var _c = _vm._self._c || _h\n  return _c(\n    \"div\",\n    { staticClass: \"page\" },\n    [\n      _c(\"div\", { staticClass: \"tools-bar\" }, [\n        _c(\"div\", { staticClass: \"left-wrap\" }, [_c(\"back\")], 1),\n        _vm._v(\" \"),\n        _c(\n          \"div\",\n          { staticClass: \"button-wrap\" },\n          [\n            _c(\n              \"el-button\",\n              {\n                attrs: { type: \"primary\", size: \"small\" },\n                on: { click: _vm.release }\n              },\n              [_vm._v(\"直接发布\")]\n            ),\n            _vm._v(\" \"),\n            _c(\n              \"el-button\",\n              {\n                attrs: { type: \"info\", size: \"small\" },\n                on: { click: _vm.timeRelease }\n              },\n              [_vm._v(\"定时发布\")]\n            ),\n            _vm._v(\" \"),\n            _c(\n              \"el-button\",\n              {\n                attrs: { type: \"warning\", size: \"small\" },\n                on: { click: _vm.submit }\n              },\n              [_vm._v(\"草稿\")]\n            )\n          ],\n          1\n        )\n      ]),\n      _vm._v(\" \"),\n      _c(\n        \"el-form\",\n        {\n          ref: \"form\",\n          attrs: { model: _vm.params, rules: _vm.rules, \"label-width\": \"80px\" }\n        },\n        [\n          _c(\n            \"el-form-item\",\n            { attrs: { label: \"专题\", prop: \"pickerVal\" } },\n            [\n              _c(\"picker\", {\n                attrs: { column: 2 },\n                model: {\n                  value: _vm.params.pickerVal,\n                  callback: function($$v) {\n                    _vm.$set(_vm.params, \"pickerVal\", $$v)\n                  },\n                  expression: \"params.pickerVal\"\n                }\n              }),\n              _vm._v(\" \"),\n              _c(\n                \"el-col\",\n                { attrs: { span: 4 } },\n                [\n                  _c(\n                    \"el-form-item\",\n                    { attrs: { \"label-width\": \"20px\" } },\n                    [\n                      [\n                        _c(\n                          \"el-checkbox\",\n                          {\n                            attrs: {\n                              \"true-label\": 1,\n                              \"false-label\": 0,\n                              disabled: _vm.isAudioFlag\n                            },\n                            model: {\n                              value: _vm.params.audioFlag,\n                              callback: function($$v) {\n                                _vm.$set(_vm.params, \"audioFlag\", $$v)\n                              },\n                              expression: \"params.audioFlag\"\n                            }\n                          },\n                          [_vm._v(\"音频\")]\n                        )\n                      ]\n                    ],\n                    2\n                  )\n                ],\n                1\n              )\n            ],\n            1\n          ),\n          _vm._v(\" \"),\n          _c(\n            \"el-form-item\",\n            { attrs: { label: \"标题\", prop: \"title\" } },\n            [\n              _c(\n                \"el-col\",\n                { attrs: { span: 12 } },\n                [\n                  _c(\"el-input\", {\n                    model: {\n                      value: _vm.params.title,\n                      callback: function($$v) {\n                        _vm.$set(_vm.params, \"title\", $$v)\n                      },\n                      expression: \"params.title\"\n                    }\n                  })\n                ],\n                1\n              ),\n              _vm._v(\" \"),\n              _c(\n                \"el-col\",\n                { attrs: { span: 4 } },\n                [\n                  _c(\n                    \"el-form-item\",\n                    { attrs: { \"label-width\": \"20px\" } },\n                    [\n                      [\n                        _c(\n                          \"el-checkbox\",\n                          {\n                            attrs: { \"true-label\": 1, \"false-label\": 0 },\n                            model: {\n                              value: _vm.params.isHomePageShow,\n                              callback: function($$v) {\n                                _vm.$set(_vm.params, \"isHomePageShow\", $$v)\n                              },\n                              expression: \"params.isHomePageShow\"\n                            }\n                          },\n                          [_vm._v(\"首页显示\")]\n                        )\n                      ]\n                    ],\n                    2\n                  )\n                ],\n                1\n              )\n            ],\n            1\n          ),\n          _vm._v(\" \"),\n          _vm.params.audioFlag === 1\n            ? _c(\n                \"div\",\n                [\n                  _c(\n                    \"el-form-item\",\n                    { attrs: { label: \"音频\", prop: \"audioPath\" } },\n                    [\n                      _c(\"upload\", {\n                        attrs: {\n                          type: \"audio\",\n                          accept: \"audio/*\",\n                          path: \"audio/article/\"\n                        },\n                        model: {\n                          value: _vm.params.audioPath,\n                          callback: function($$v) {\n                            _vm.$set(_vm.params, \"audioPath\", $$v)\n                          },\n                          expression: \"params.audioPath\"\n                        }\n                      })\n                    ],\n                    1\n                  ),\n                  _vm._v(\" \"),\n                  _c(\n                    \"el-form-item\",\n                    { attrs: { label: \"音频描述\", prop: \"textarea\" } },\n                    [\n                      _c(\n                        \"el-col\",\n                        { attrs: { span: 12 } },\n                        [\n                          _c(\"el-input\", {\n                            attrs: {\n                              placeholder: \"请输入音频描述\",\n                              type: \"textarea\",\n                              rows: 6\n                            },\n                            model: {\n                              value: _vm.params.textarea,\n                              callback: function($$v) {\n                                _vm.$set(_vm.params, \"textarea\", $$v)\n                              },\n                              expression: \"params.textarea\"\n                            }\n                          })\n                        ],\n                        1\n                      )\n                    ],\n                    1\n                  )\n                ],\n                1\n              )\n            : _vm._e(),\n          _vm._v(\" \"),\n          _c(\n            \"div\",\n            {\n              directives: [\n                {\n                  name: \"show\",\n                  rawName: \"v-show\",\n                  value: _vm.params.audioFlag !== 1,\n                  expression: \"params.audioFlag!==1\"\n                }\n              ]\n            },\n            [\n              _c(\n                \"el-form-item\",\n                {\n                  attrs: {\n                    label: \"封面\",\n                    prop: !_vm.params.audioFlag ? \"image\" : \"\"\n                  }\n                },\n                [\n                  _c(\"upload\", {\n                    attrs: { path: \"image/article/\" },\n                    model: {\n                      value: _vm.params.image,\n                      callback: function($$v) {\n                        _vm.$set(_vm.params, \"image\", $$v)\n                      },\n                      expression: \"params.image\"\n                    }\n                  })\n                ],\n                1\n              ),\n              _vm._v(\" \"),\n              _c(\n                \"el-form-item\",\n                { attrs: { prop: !_vm.params.audioFlag ? \"content\" : \"\" } },\n                [\n                  _c(\n                    \"el-col\",\n                    { attrs: { span: 18 } },\n                    [\n                      _c(\"Tinymce\", {\n                        ref: \"editor\",\n                        attrs: { height: 600 },\n                        model: {\n                          value: _vm.params.content,\n                          callback: function($$v) {\n                            _vm.$set(_vm.params, \"content\", $$v)\n                          },\n                          expression: \"params.content\"\n                        }\n                      })\n                    ],\n                    1\n                  )\n                ],\n                1\n              )\n            ],\n            1\n          )\n        ],\n        1\n      ),\n      _vm._v(\" \"),\n      _c(\n        \"el-dialog\",\n        {\n          attrs: {\n            title: \"定时发布\",\n            visible: _vm.timeDialog,\n            width: \"500px\",\n            \"close-on-click-modal\": false\n          },\n          on: {\n            \"update:visible\": function($event) {\n              _vm.timeDialog = $event\n            }\n          }\n        },\n        [\n          _c(\n            \"el-form\",\n            {\n              ref: \"addForm\",\n              attrs: {\n                model: _vm.addForm,\n                \"inline-message\": \"\",\n                rules: _vm.formRules,\n                \"label-suffix\": \":\",\n                \"label-width\": \"100\"\n              }\n            },\n            [\n              _c(\n                \"el-form-item\",\n                { attrs: { label: \"发布时间\", prop: \"publishTime\" } },\n                [\n                  _c(\n                    \"el-col\",\n                    { attrs: { span: 12 } },\n                    [\n                      _c(\"el-date-picker\", {\n                        staticClass: \"full\",\n                        attrs: {\n                          type: \"datetime\",\n                          \"picker-options\": _vm.pickerOptions2,\n                          placeholder: \"请选择发布时间\"\n                        },\n                        model: {\n                          value: _vm.addForm.publishTime,\n                          callback: function($$v) {\n                            _vm.$set(_vm.addForm, \"publishTime\", $$v)\n                          },\n                          expression: \"addForm.publishTime\"\n                        }\n                      })\n                    ],\n                    1\n                  )\n                ],\n                1\n              )\n            ],\n            1\n          ),\n          _vm._v(\" \"),\n          _c(\n            \"span\",\n            {\n              staticClass: \"dialog-footer\",\n              attrs: { slot: \"footer\" },\n              slot: \"footer\"\n            },\n            [\n              _c(\"el-button\", { on: { click: _vm.cancel } }, [_vm._v(\"取消\")]),\n              _vm._v(\" \"),\n              _c(\n                \"el-button\",\n                { attrs: { type: \"primary\" }, on: { click: _vm.save } },\n                [_vm._v(\"确定\")]\n              )\n            ],\n            1\n          )\n        ],\n        1\n      )\n    ],\n    1\n  )\n}\nvar staticRenderFns = []\nrender._withStripped = true\nvar esExports = { render: render, staticRenderFns: staticRenderFns }\nexport default esExports\nif (module.hot) {\n  module.hot.accept()\n  if (module.hot.data) {\n    require(\"vue-hot-reload-api\")      .rerender(\"data-v-06e4ff7e\", esExports)\n  }\n}\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/vue-loader/lib/template-compiler?{\"id\":\"data-v-06e4ff7e\",\"hasScoped\":true,\"transformToRequire\":{\"video\":[\"src\",\"poster\"],\"source\":\"src\",\"img\":\"src\",\"image\":\"xlink:href\"},\"buble\":{\"transforms\":{}}}!./node_modules/vue-loader/lib/selector.js?type=template&index=0!./src/pages/xuanke/article/add.vue\n// module id = null\n// module chunks = ","var disposed = false\nfunction injectStyle (ssrContext) {\n  if (disposed) return\n  require(\"!!vue-style-loader!css-loader?{\\\"sourceMap\\\":true}!../../../../node_modules/vue-loader/lib/style-compiler/index?{\\\"vue\\\":true,\\\"id\\\":\\\"data-v-06e4ff7e\\\",\\\"scoped\\\":true,\\\"hasInlineConfig\\\":false}!sass-loader?{\\\"sourceMap\\\":true}!sass-resources-loader?{\\\"resources\\\":\\\"D:\\\\\\\\work\\\\\\\\junyang_admin\\\\\\\\src\\\\\\\\assets\\\\\\\\sass\\\\\\\\var.scss\\\"}!../../../../node_modules/vue-loader/lib/selector?type=styles&index=0!./add.vue\")\n}\nvar normalizeComponent = require(\"!../../../../node_modules/vue-loader/lib/component-normalizer\")\n/* script */\nexport * from \"!!babel-loader!../../../../node_modules/vue-loader/lib/selector?type=script&index=0!./add.vue\"\nimport __vue_script__ from \"!!babel-loader!../../../../node_modules/vue-loader/lib/selector?type=script&index=0!./add.vue\"\n/* template */\nimport __vue_template__ from \"!!../../../../node_modules/vue-loader/lib/template-compiler/index?{\\\"id\\\":\\\"data-v-06e4ff7e\\\",\\\"hasScoped\\\":true,\\\"transformToRequire\\\":{\\\"video\\\":[\\\"src\\\",\\\"poster\\\"],\\\"source\\\":\\\"src\\\",\\\"img\\\":\\\"src\\\",\\\"image\\\":\\\"xlink:href\\\"},\\\"buble\\\":{\\\"transforms\\\":{}}}!../../../../node_modules/vue-loader/lib/selector?type=template&index=0!./add.vue\"\n/* template functional */\nvar __vue_template_functional__ = false\n/* styles */\nvar __vue_styles__ = injectStyle\n/* scopeId */\nvar __vue_scopeId__ = \"data-v-06e4ff7e\"\n/* moduleIdentifier (server only) */\nvar __vue_module_identifier__ = null\nvar Component = normalizeComponent(\n  __vue_script__,\n  __vue_template__,\n  __vue_template_functional__,\n  __vue_styles__,\n  __vue_scopeId__,\n  __vue_module_identifier__\n)\nComponent.options.__file = \"src/pages/xuanke/article/add.vue\"\n\n/* hot reload */\nif (module.hot) {(function () {\n  var hotAPI = require(\"vue-hot-reload-api\")\n  hotAPI.install(require(\"vue\"), false)\n  if (!hotAPI.compatible) return\n  module.hot.accept()\n  if (!module.hot.data) {\n    hotAPI.createRecord(\"data-v-06e4ff7e\", Component.options)\n  } else {\n    hotAPI.reload(\"data-v-06e4ff7e\", Component.options)\n  }\n  module.hot.dispose(function (data) {\n    disposed = true\n  })\n})()}\n\nexport default Component.exports\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/pages/xuanke/article/add.vue\n// module id = null\n// module chunks = ","exports = module.exports = require(\"../../../../node_modules/css-loader/lib/css-base.js\")(true);\n// imports\n\n\n// module\nexports.push([module.id, \"\", \"\", {\"version\":3,\"sources\":[],\"names\":[],\"mappings\":\"\",\"file\":\"add.vue\",\"sourceRoot\":\"\"}]);\n\n// exports\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/css-loader?{\"sourceMap\":true}!./node_modules/vue-loader/lib/style-compiler?{\"vue\":true,\"id\":\"data-v-06e4ff7e\",\"scoped\":true,\"hasInlineConfig\":false}!./node_modules/sass-loader/lib/loader.js?{\"sourceMap\":true}!./node_modules/sass-resources-loader/lib/loader.js?{\"resources\":\"D://work//junyang_admin//src//assets//sass//var.scss\"}!./node_modules/vue-loader/lib/selector.js?type=styles&index=0!./src/pages/xuanke/article/add.vue\n// module id = h4kl\n// module chunks = 11"],"sourceRoot":""}