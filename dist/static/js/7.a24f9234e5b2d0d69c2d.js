webpackJsonp([7],{aUoj:function(t,e){},oQVo:function(t,e,a){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var s=a("0xDb"),l=a("bGai"),n={data:function(){return{params:{title:null,page:1,sortType:1},checkData:[],pickerVal:[],pageInfo:{},tableData:[],loading:!1}},components:{picker:l.d,listHandle:l.b,page:l.c},methods:{handleSelectionChange:function(t){var e=this;this.checkData=[],this.lodash.map(t,function(t){e.checkData.push({id:t.id,status:t.status})})},currentChange:function(t){this.params.page=t,this.getData(this.params)},sizeChange:function(t){this.params.size=t,this.getData(this.params)},reset:function(){this.params={title:null,page:1,size:15,sortType:1},this.pickerVal=[],this.getData(this.params)},search:function(){this.params.productId=this.pickerVal[0],this.getData(this.params)},refresh:function(){this.getData(this.params)},getData:function(t){var e=this;t.page--,this.loading=!0,this.$fly.get(s.a.topicList,t).then(function(a){e.loading=!1,e.tableData=a.content,e.pageInfo={totalElements:a.totalElements,currentPage:t.page+1}})}},created:function(){this.getData(this.params)},mounted:function(){this.params.size=this.$refs.pageInfo.pageSizes[0]}},i={render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"page"},[a("div",{staticClass:"tools-bar"},[a("div",{staticClass:"left-wrap"},[a("el-input",{attrs:{"prefix-icon":"el-icon-search",placeholder:"请输入搜索关键字",size:"small"},model:{value:t.params.title,callback:function(e){t.$set(t.params,"title",e)},expression:"params.title"}}),t._v(" "),a("picker",{attrs:{size:"small",span:-1},model:{value:t.pickerVal,callback:function(e){t.pickerVal=e},expression:"pickerVal"}}),t._v(" "),a("el-button",{attrs:{size:"small",type:"primary"},on:{click:t.search}},[t._v("查询")]),t._v(" "),a("el-button",{attrs:{size:"small",type:"warning"},on:{click:t.reset}},[t._v("重置")])],1),t._v(" "),a("listHandle",{attrs:{checkData:t.checkData,"show-hot":""},on:{refresh:t.refresh}})],1),t._v(" "),a("el-table",{directives:[{name:"loading",rawName:"v-loading",value:t.loading,expression:"loading"}],ref:"multipleTable",attrs:{"header-cell-class-name":"tableHeader",data:t.tableData,"element-loading-text":"拼命加载中",border:"",stripe:""},on:{"selection-change":t.handleSelectionChange}},[a("el-table-column",{attrs:{type:"selection",width:"55",align:"center","label-class-name":"checkLabel"}}),t._v(" "),a("el-table-column",{attrs:{label:"标题",align:"center","min-width":"180","show-overflow-tooltip":""},scopedSlots:t._u([{key:"default",fn:function(e){return[a("span",[t._v(t._s(e.row.title))])]}}])}),t._v(" "),a("el-table-column",{attrs:{label:"是否热门",align:"center",width:"80"},scopedSlots:t._u([{key:"default",fn:function(e){return[a("el-tag",{attrs:{size:"small",type:1===e.row.isHot?"danger":"info"}},[t._v(t._s(e.row.isHot?"是":"否"))])]}}])}),t._v(" "),a("el-table-column",{attrs:{label:"所属产品",width:"120",align:"center"},scopedSlots:t._u([{key:"default",fn:function(e){return[t._v(t._s(e.row.product.name))]}}])}),t._v(" "),a("el-table-column",{attrs:{prop:"userName",label:"操作人","min-width":"260",align:"center"}}),t._v(" "),a("el-table-column",{attrs:{label:"状态",width:"120",align:"center"},scopedSlots:t._u([{key:"default",fn:function(e){return[a("el-tag",{attrs:{size:"small",type:t._f("publicStatus")(e.row.status,"style")}},[t._v(t._s(t._f("publicStatus")(e.row.status)))])]}}])}),t._v(" "),a("el-table-column",{attrs:{prop:"totalReadNum",label:"阅读量",width:"120",align:"center"},scopedSlots:t._u([{key:"default",fn:function(e){return[t._v("\n        "+t._s(e.row.totalReadNum)+"\n      ")]}}])}),t._v(" "),a("el-table-column",{attrs:{label:"创建时间",width:"180",align:"center"},scopedSlots:t._u([{key:"default",fn:function(e){return[t._v(t._s(t._f("dateTime")(e.row.createTime,"yyyy-MM-dd hh:mm:ss")))]}}])}),t._v(" "),a("el-table-column",{attrs:{label:"发布时间",width:"180",align:"center"},scopedSlots:t._u([{key:"default",fn:function(e){return[t._v(t._s(t._f("dateTime")(e.row.publishTime,"yyyy-MM-dd hh:mm:ss")))]}}])}),t._v(" "),a("el-table-column",{attrs:{label:"操作",width:"100",align:"center"},scopedSlots:t._u([{key:"default",fn:function(e){return[2===e.row.status||3===e.row.status?a("el-button",{attrs:{type:"text ",size:"mini"}},[a("router-link",{attrs:{to:{name:"topic",params:{type:"edit"},query:{id:e.row.id}},tag:"span"}},[t._v("编辑")])],1):t._e()]}}])})],1),t._v(" "),a("page",{ref:"pageInfo",attrs:{pageInfo:t.pageInfo},on:{sizeChange:t.sizeChange,currentChange:t.currentChange}})],1)},staticRenderFns:[]};var r=a("VU/8")(n,i,!1,function(t){a("aUoj")},null,null);e.default=r.exports}});