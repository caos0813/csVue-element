webpackJsonp([1],{"/W3z":function(e,t){},"5iEN":function(e,t){},"8Qbw":function(e,t){},BCIe:function(e,t){},D5yE:function(e,t){},Jcmh:function(e,t){},"M/el":function(e,t){},MXkr:function(e,t){},NHnr:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n={};a.d(n,"breadData",function(){return Oe});a("tvR6");var s=a("qBF2"),i=a.n(s),l=a("7+uW"),r={render:function(){var e=this.$createElement,t=this._self._c||e;return t("div",{attrs:{id:"app"}},[t("router-view")],1)},staticRenderFns:[]},o=a("VU/8")({name:"App"},r,!1,null,null,null).exports,c=a("/ocq"),u="auth",p="/provinces/search/all",d="/membershipCard/generate",m="/membershipCardGenerateRecord/byCondition",f="/membershipCard/byCondition",h="/membershipCard/exportByRecordId",g="secret/token",v="/product/queryAll",b="/specialTopic/delete",_="/specialTopic/soldOut",y="specialTopic/queryById",k="/specialTopic/saveAndUpdate",w="specialTopic/querySpecialTopic",C="/article/queryArticleByCondition",x="/article/queryById",$="/article/delete",D="/article/soldOut",S="article/addAndUpdate";function V(e){return("00"+e).substr(e.length)}var z=function(e,t){var a=new Date(e);/(y+)/.test(t)&&(t=t.replace(RegExp.$1,(a.getFullYear()+"").substr(4-RegExp.$1.length)));var n={"M+":a.getMonth()+1,"d+":a.getDate(),"h+":a.getHours(),"m+":a.getMinutes(),"s+":a.getSeconds()};for(var s in n)if(new RegExp("("+s+")").test(t)){var i=n[s]+"";t=t.replace(RegExp.$1,1===RegExp.$1.length?i:V(i))}return t},I=a("+TD8"),T=a.n(I),F=function(e,t){return T.a.confirm(e,t,{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"})};console.log(F);var E=a("lbHh"),P=a.n(E),N={data:function(){return{a:null,params:{},rules:{userName:[{required:!0,message:"请输入账号",trigger:"change"}],passWord:[{required:!0,message:"请输入密码",trigger:"change"},{min:6,message:"密码长度不正确",trigger:"change"}]}}},methods:{submit:function(){var e=this;this.$refs.form.validate(function(t){t?(console.log(e.params),e.$fly.post(u,e.params).then(function(t){P.a.set("user",{userName:e.params.userName,token:t.token},{expires:7}),e.$message({message:"登录成功!",type:"success"}),e.$router.replace({name:"index"})}).catch(function(){e.$message({message:"登录失败",type:"error"})})):console.log("error submit!!")})}}},U={render:function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"login-wrap"},[a("div",{staticClass:"form-wrap"},[a("el-form",{ref:"form",attrs:{model:e.params,rules:e.rules}},[a("el-form-item",{attrs:{prop:"userName"}},[a("el-input",{attrs:{placeholder:"请输入账号",name:"userName"},model:{value:e.params.userName,callback:function(t){e.$set(e.params,"userName",t)},expression:"params.userName"}})],1),e._v(" "),a("el-form-item",{attrs:{prop:"passWord"}},[a("el-input",{attrs:{type:"passWord",placeholder:"请输入密码",name:"passWord"},model:{value:e.params.passWord,callback:function(t){e.$set(e.params,"passWord",t)},expression:"params.passWord"}})],1),e._v(" "),a("el-form-item",{staticClass:"text-center"},[a("el-button",{staticClass:"btn",attrs:{type:"primary","native-type":"submit",round:""},on:{click:function(t){return t.preventDefault(),e.submit(t)}}},[e._v("登录")])],1)],1)],1)])},staticRenderFns:[]};var A=a("VU/8")(N,U,!1,function(e){a("kJKx")},"data-v-68d36e54",null).exports,O={data:function(){return{defaultOpeneds:["1"],isCollapse:!1,title:"",listData:[]}},computed:{userName:function(){return P.a.get("user")?JSON.parse(P.a.get("user")).userName:""},activeIndex:function(){var e=this.$route.params.id;return"number"==typeof e&&(e=e.toString()),e},breadData:function(){return this.$store.state.breadData}},methods:{signOut:function(){P.a.remove("user"),this.$router.replace({name:"login"})}},created:function(){}},R={render:function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("el-container",{staticClass:"container"},[a("el-header",{staticClass:"el-header"},[a("div",{staticClass:"logo"},[e._v("JunYang Admin")]),e._v(" "),a("div",{staticClass:"bar"},[a("div",{staticClass:"breadcrumb-wrap"},[a("el-breadcrumb",{attrs:{separator:"/"}},[a("el-breadcrumb-item",[e._v("首页")])],1)],1),e._v(" "),a("el-dropdown",[a("span",{staticClass:"el-dropdown-link"},[e._v("\n          "+e._s(e.userName)+"\n          "),a("i",{staticClass:"el-icon-arrow-down el-icon--right"})]),e._v(" "),a("el-dropdown-menu",{attrs:{slot:"dropdown","split-button":""},slot:"dropdown"},[a("el-dropdown-item",{nativeOn:{click:function(t){return e.signOut(t)}}},[e._v("退出登录")])],1)],1)],1)]),e._v(" "),a("el-container",{staticClass:"main-container"},[a("el-aside",{staticClass:"aside"},[a("el-menu",{staticClass:"el-menu-vertical-demo",attrs:{"default-active":"0",collapse:e.isCollapse,"default-openeds":e.defaultOpeneds,router:""}},[a("el-menu-item",{attrs:{index:"0",route:{name:"index"}}},[a("i",{staticClass:"el-icon-tickets"}),e._v(" "),a("span",{attrs:{slot:"title"},slot:"title"},[e._v("首页")])]),e._v(" "),a("el-submenu",{attrs:{index:"1"}},[a("template",{slot:"title"},[a("i",{staticClass:"el-icon-menu"}),e._v(" "),a("span",[e._v("内容管理")])]),e._v(" "),a("el-menu-item",{attrs:{index:"1-1",route:{name:"subject-list"}}},[e._v("专题")]),e._v(" "),a("el-menu-item",{attrs:{index:"1-2",route:{name:"article-list"}}},[e._v("文章")]),e._v(" "),a("el-menu-item",{attrs:{index:"1-3",route:{name:"topic-list"}}},[e._v("话题")])],2),e._v(" "),a("el-submenu",{attrs:{index:"2"}},[a("template",{slot:"title"},[a("i",{staticClass:"el-icon-menu"}),e._v(" "),a("span",[e._v("志愿卡管理")])]),e._v(" "),a("el-menu-item",{attrs:{index:"2-1",route:{name:"volunteer-list"}}},[e._v("志愿卡管理")]),e._v(" "),a("el-menu-item",{attrs:{index:"2-2",route:{name:"volunteer-use"}}},[e._v("使用管理")])],2)],1)],1),e._v(" "),a("el-main",{staticClass:"main"},[a("router-view")],1)],1)],1)},staticRenderFns:[]};var q=a("VU/8")(O,R,!1,function(e){a("gOGD")},"data-v-5d3760f0",null).exports,j={render:function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"page"},[a("div",{staticClass:"box-wrap"},[a("router-link",{staticClass:"ceil",attrs:{to:{name:"subject-list"},tag:"a"}},[e._v("\n      专题\n    ")]),e._v(" "),a("router-link",{staticClass:"ceil",attrs:{to:{name:"article-list"},tag:"a"}},[e._v("\n      文章\n    ")]),e._v(" "),a("router-link",{staticClass:"ceil",attrs:{to:{name:"topic-list"},tag:"a"}},[e._v("\n      话题\n    ")]),e._v(" "),a("router-link",{staticClass:"ceil",attrs:{to:{name:"volunteer-list"},tag:"a"}},[e._v("\n      志愿卡\n    ")]),e._v(" "),a("router-link",{staticClass:"ceil",attrs:{to:{name:"volunteer-use"},tag:"a"}},[e._v("\n      志愿卡使用管理\n    ")])],1)])},staticRenderFns:[]};var H=a("VU/8")(null,j,!1,function(e){a("VPYS")},"data-v-63b4e27a",null).exports,B=a("Xxa5"),L=a.n(B),M=a("exGp"),J=a.n(M),K=a("/Z0X"),W={data:function(){return{uploadUrl:"",uploadConfig:{},loading:!1,dialogVisible:!1}},props:{value:{type:String,defaul:""},CDN:{type:String,default:"http://fdomsimage.oss-cn-huhehaote.aliyuncs.com/"},path:{type:String,default:"image/specialtopic/"},accept:{type:String,default:"image/*"}},computed:{imageUrl:function(){return this.value}},methods:{preview:function(){this.dialogVisible=!0},upload:function(e){var t=this;return J()(L.a.mark(function a(){var n,s,i,l;return L.a.wrap(function(a){for(;;)switch(a.prev=a.next){case 0:return n=e.file,t.loading=!0,s=t.path,i=new K({accessKeyId:t.uploadConfig.accessKeyId,accessKeySecret:t.uploadConfig.accessKeySecret,bucket:t.uploadConfig.bucketName,endpoint:t.uploadConfig.endpoint}),a.next=6,i.multipartUpload(s+z(new Date,"yyyyMMddhhmmss"),n,{progress:function(){var t=J()(L.a.mark(function t(a){var n;return L.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:(n={}).percent=100*a,e.onProgress(n);case 3:case"end":return t.stop()}},t,this)}));return function(e){return t.apply(this,arguments)}}()});case 6:if(l=a.sent,console.log(l),200!==l.res.statusCode){a.next=13;break}return e.onSuccess(l),a.abrupt("return",l);case 13:e.onError("上传失败");case 14:case"end":return a.stop()}},a,t)}))()},handleAvatarSuccess:function(e,t){console.log(e.name),this.loading=!1;var a=this.CDN+e.name;console.log(a),this.$emit("input",a)}},created:function(){var e=this;this.$fly.get(g).then(function(t){e.uploadConfig=t})}},Y={render:function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"upload"},[a("el-upload",{directives:[{name:"loading",rawName:"v-loading",value:e.loading,expression:"loading"}],staticClass:"avatar-uploader",attrs:{accept:e.accept,action:e.uploadUrl,"show-file-list":!1,"on-success":e.handleAvatarSuccess,"http-request":e.upload,"element-loading-text":"正在上传","element-loading-spinner":"el-icon-loading","element-loading-background":"rgba(0, 0, 0, 0.8)"}},[e.imageUrl?a("img",{staticClass:"avatar",attrs:{src:e.imageUrl}}):e._e(),e._v(" "),e.imageUrl?a("div",{staticClass:"btn-wrap"},[a("el-button",{attrs:{icon:"el-icon-zoom-in",size:"mini",circle:""},on:{click:function(t){return t.stopPropagation(),e.preview(t)}}})],1):a("i",{staticClass:"el-icon-upload avatar-uploader-icon"})]),e._v(" "),a("el-dialog",{attrs:{visible:e.dialogVisible,title:"图片预览"},on:{"update:visible":function(t){e.dialogVisible=t}}},[a("img",{attrs:{width:"100%",src:e.imageUrl,alt:""}})])],1)},staticRenderFns:[]};var X=a("VU/8")(W,Y,!1,function(e){a("fXyA")},"data-v-5872eafc",null).exports,G={render:function(){var e=this.$createElement;return(this._self._c||e)("el-button",{attrs:{type:"primary",icon:"el-icon-arrow-left",size:"small",circle:""},on:{click:this.back}})},staticRenderFns:[]},Q=a("VU/8")({methods:{back:function(){this.$router.go(-1)}}},G,!1,null,null,null).exports,Z=a("//Fk"),ee=a.n(Z),te=a("fZjL"),ae=a.n(te),ne={name:"editorSlideUpload",props:{color:{type:String,default:"#1890ff"}},data:function(){return{dialogVisible:!1,listObj:{},fileList:[]}},methods:{checkAllSuccess:function(){var e=this;return ae()(this.listObj).every(function(t){return e.listObj[t].hasSuccess})},handleSubmit:function(){var e=this,t=ae()(this.listObj).map(function(t){return e.listObj[t]});this.checkAllSuccess()?(console.log(t),this.$emit("successCBK",t),this.listObj={},this.fileList=[],this.dialogVisible=!1):this.$message("请等待所有图片上传成功 或 出现了网络问题，请刷新页面重新上传！")},handleSuccess:function(e,t){for(var a=t.uid,n=ae()(this.listObj),s=0,i=n.length;s<i;s++)if(this.listObj[n[s]].uid===a)return this.listObj[n[s]].url=e.files.file,void(this.listObj[n[s]].hasSuccess=!0)},handleRemove:function(e){for(var t=e.uid,a=ae()(this.listObj),n=0,s=a.length;n<s;n++)if(this.listObj[a[n]].uid===t)return void delete this.listObj[a[n]]},beforeUpload:function(e){var t=this,a=window.URL||window.webkitURL,n=e.uid;return this.listObj[n]={},new ee.a(function(s,i){var l=new Image;l.src=a.createObjectURL(e),l.onload=function(){t.listObj[n]={hasSuccess:!1,uid:e.uid,width:this.width,height:this.height}},s(!0)})}}},se={render:function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"upload-container"},[a("el-button",{style:{background:e.color,borderColor:e.color},attrs:{icon:"el-icon-upload",size:"mini",type:"primary"},on:{click:function(t){e.dialogVisible=!0}}},[e._v("上传图片\n  ")]),e._v(" "),a("el-dialog",{attrs:{"append-to-body":"",visible:e.dialogVisible},on:{"update:visible":function(t){e.dialogVisible=t}}},[a("el-upload",{staticClass:"editor-slide-upload",attrs:{action:"https://httpbin.org/post",multiple:!0,"file-list":e.fileList,"show-file-list":!0,"list-type":"picture-card","on-remove":e.handleRemove,"on-success":e.handleSuccess,"before-upload":e.beforeUpload}},[a("el-button",{attrs:{size:"small",type:"primary"}},[e._v("点击上传")])],1),e._v(" "),a("el-button",{on:{click:function(t){e.dialogVisible=!1}}},[e._v("取 消")]),e._v(" "),a("el-button",{attrs:{type:"primary"},on:{click:e.handleSubmit}},[e._v("确 定")])],1)],1)},staticRenderFns:[]};var ie=["advlist anchor autolink autosave code codesample colorpicker colorpicker contextmenu directionality emoticons fullscreen hr image imagetools importcss insertdatetime link lists media nonbreaking noneditable pagebreak paste preview print save searchreplace spellchecker tabfocus table template textcolor textpattern visualblocks visualchars wordcount"],le=["bold italic underline strikethrough alignleft aligncenter alignright outdent indent  blockquote undo redo removeformat subscript superscript code codesample","hr bullist numlist link image charmap preview anchor pagebreak insertdatetime media table emoticons forecolor backcolor"],re={name:"tinymce",components:{editorImage:a("VU/8")(ne,se,!1,function(e){a("Rno2")},"data-v-550bf360",null).exports},props:{id:{type:String},value:{type:String,default:""},toolbar:{type:Array,required:!1,default:function(){return[]}},menubar:{default:"file edit insert view format table"},height:{type:Number,required:!1,default:360}},data:function(){return{hasChange:!1,hasInit:!1,tinymceId:this.id||"vue-tinymce-"+ +new Date,fullscreen:!1}},watch:{value:function(e){var t=this;!this.hasChange&&this.hasInit&&this.$nextTick(function(){return window.tinymce.get(t.tinymceId).setContent(e||"")})}},mounted:function(){this.initTinymce()},activated:function(){this.initTinymce()},deactivated:function(){this.destroyTinymce()},methods:{initTinymce:function(){var e=this,t=this;window.tinymce.init({selector:"#"+this.tinymceId,height:this.height,body_class:"panel-body ",object_resizing:!1,toolbar:this.toolbar.length>0?this.toolbar:le,menubar:this.menubar,plugins:ie,end_container_on_empty_block:!0,powerpaste_word_import:"clean",code_dialog_height:450,code_dialog_width:1e3,advlist_bullet_styles:"square",advlist_number_styles:"default",imagetools_cors_hosts:["www.tinymce.com","codepen.io"],default_link_target:"_blank",link_title:!1,language:"zh_CN",nonbreaking_force_tab:!0,init_instance_callback:function(a){t.value&&a.setContent(t.value),t.hasInit=!0,a.on("NodeChange Change KeyUp SetContent",function(){e.hasChange=!0,e.$emit("input",a.getContent())})},setup:function(e){e.on("FullscreenStateChanged",function(e){t.fullscreen=e.state})}})},destroyTinymce:function(){window.tinymce.get(this.tinymceId)&&window.tinymce.get(this.tinymceId).destroy()},setContent:function(e){window.tinymce.get(this.tinymceId).setContent(e)},getContent:function(){window.tinymce.get(this.tinymceId).getContent()},imageSuccessCBK:function(e){var t=this;e.forEach(function(e){window.tinymce.get(t.tinymceId).insertContent('<img class="wscnph" src="'+e.url+'" >')})}},destroyed:function(){this.destroyTinymce()}},oe={render:function(){var e=this.$createElement,t=this._self._c||e;return t("div",{staticClass:"tinymce-container editor-container",class:{fullscreen:this.fullscreen}},[t("textarea",{staticClass:"tinymce-textarea",attrs:{id:this.tinymceId}}),this._v(" "),t("div",{staticClass:"editor-custom-btn-container"},[t("editorImage",{staticClass:"editor-upload-btn",attrs:{color:"#1890ff"},on:{successCBK:this.imageSuccessCBK}})],1)])},staticRenderFns:[]};var ce=a("VU/8")(re,oe,!1,function(e){a("Uk2V")},"data-v-7210ea39",null).exports,ue={data:function(){return{firstData:[],secondData:[],thirdData:[],pickerVal:[]}},props:{value:{type:Array,default:function(){return[]}},span:{type:Number,default:6},size:{type:String,default:""},column:{type:Number,default:2}},watch:{value:{handler:function(e){this.pickerVal=e},immediate:!0}},methods:{firstChange:function(e,t){var a=this.lodash.findIndex(this.firstData,function(t){return t.id===e});this.secondData=this.firstData[a].modules,t||this.pickerVal.splice(1,2),this.$emit("input",this.pickerVal)},secondChange:function(e,t){var a=this.lodash.findIndex(this.secondData,function(t){return t.id===e});this.thirdData=this.secondData[a].specialTopics,t||this.pickerVal.splice(2,1),this.$emit("input",this.pickerVal)},thirdChange:function(e){this.$emit("input",this.pickerVal)}},created:function(){var e=this;this.$fly.get(v).then(function(t){e.firstData=t,e.lodash.isUndefined(e.pickerVal[0])||e.firstChange(e.pickerVal[0],!0),e.lodash.isUndefined(e.pickerVal[2])||e.secondChange(e.pickerVal[1],!0)})}},pe={render:function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"picker-wrap"},[a("el-col",{attrs:{span:e.span}},[a("el-select",{staticClass:"full",attrs:{placeholder:"请选择产品",size:e.size},on:{change:e.firstChange},model:{value:e.pickerVal[0],callback:function(t){e.$set(e.pickerVal,0,t)},expression:"pickerVal[0]"}},e._l(e.firstData,function(e,t){return a("el-option",{key:t,attrs:{label:e.name,value:e.id}})}))],1),e._v(" "),a("el-col",{attrs:{span:e.span}},[a("el-select",{staticClass:"full",attrs:{placeholder:"请选择模块",size:e.size},on:{change:e.secondChange},model:{value:e.pickerVal[1],callback:function(t){e.$set(e.pickerVal,1,t)},expression:"pickerVal[1]"}},e._l(e.secondData,function(e,t){return a("el-option",{key:t,attrs:{label:e.name,value:e.id}})}))],1),e._v(" "),3===e.column?a("el-col",{attrs:{span:e.span}},[a("el-select",{staticClass:"full",attrs:{placeholder:"请选择专题",size:e.size},on:{change:e.thirdChange},model:{value:e.pickerVal[2],callback:function(t){e.$set(e.pickerVal,2,t)},expression:"pickerVal[2]"}},e._l(e.thirdData,function(e,t){return a("el-option",{key:t,attrs:{label:e.title,value:e.id}})}))],1):e._e()],1)},staticRenderFns:[]};var de=a("VU/8")(ue,pe,!1,function(e){a("BCIe")},"data-v-457d890d",null).exports,me={data:function(){return{params:{title:null,page:1,size:15,sortType:1},checkIds:[],pickerVal:[],pageInfo:{},tableData:[]}},components:{picker:de},methods:{handleSelectionChange:function(e){this.checkIds=this.lodash.map(e,"id"),console.log(this.checkIds)},changePage:function(e){this.params.page=e,this.getData(this.params)},reset:function(){this.params={title:null,page:1,size:15,sortType:1},this.pickerVal=[],this.getData(this.params)},search:function(){console.log(this.pickerVal),this.params.productId=this.pickerVal[0],this.params.moduleId=this.pickerVal[1],this.getData(this.params)},handleFn:function(e){var t=this,a=void 0,n=void 0;"delete"===e?(a=b,n="删除"):(a=_,n="下架"),F("您确定"+n+"选择的内容吗？","提示").then(function(){t.$fly.post(a,t.checkIds).then(function(e){t.$message({message:n+"成功",duration:2e3,type:"success"}),t.getData(t.params)}).catch(function(){t.$message({message:n+"失败",duration:2e3,type:"error"})})})},getData:function(e){var t=this,a=this.lodash.clone(e);a.page--,console.log(e),this.$fly.get(w,a).then(function(a){t.tableData=a.content,t.pageInfo={totalPages:a.totalPages,size:e.size,currentPage:e.page}})}},created:function(){this.getData(this.params)}},fe={render:function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"page"},[a("div",{staticClass:"tools-bar"},[a("div",{staticClass:"left-wrap"},[a("el-input",{attrs:{"prefix-icon":"el-icon-search",placeholder:"请输入搜索关键字",size:"small"},model:{value:e.params.title,callback:function(t){e.$set(e.params,"title",t)},expression:"params.title"}}),e._v(" "),a("picker",{attrs:{size:"small",span:12},model:{value:e.pickerVal,callback:function(t){e.pickerVal=t},expression:"pickerVal"}}),e._v(" "),a("el-button",{attrs:{size:"small",type:"primary"},on:{click:e.search}},[e._v("查询")]),e._v(" "),a("el-button",{attrs:{size:"small",type:"warning"},on:{click:e.reset}},[e._v("重置")])],1),e._v(" "),a("div",{staticClass:"button-wrap"},[a("el-button",{attrs:{type:"primary",size:"small"},on:{click:function(t){e.toState({name:"subject",params:{type:"add"}})}}},[e._v("新增")]),e._v(" "),a("el-button",{attrs:{type:"warning",size:"small",disabled:e.checkIds.length<1},on:{click:function(t){e.handleFn("soldOut")}}},[e._v("下架")]),e._v(" "),a("el-button",{attrs:{type:"danger",size:"small",disabled:e.checkIds.length<1},on:{click:function(t){e.handleFn("delete")}}},[e._v("删除")])],1)]),e._v(" "),a("el-table",{ref:"multipleTable",attrs:{"header-cell-class-name":"tableHeader",data:e.tableData,border:"",stripe:""},on:{"selection-change":e.handleSelectionChange}},[a("el-table-column",{attrs:{type:"selection",width:"55",align:"center"}}),e._v(" "),a("el-table-column",{attrs:{prop:"title",label:"标题",align:"center"}}),e._v(" "),a("el-table-column",{attrs:{label:"推荐",align:"center",width:"80"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("el-tag",{attrs:{size:"small",type:1===t.row.isHomePageShow?"danger":"info"}},[e._v(e._s(t.row.isHomePageShow?"推荐":"不推荐"))])]}}])}),e._v(" "),a("el-table-column",{attrs:{prop:"userName",label:"操作人",width:"120",align:"center"}}),e._v(" "),a("el-table-column",{attrs:{label:"状态",width:"120",align:"center"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("el-tag",{attrs:{size:"small",type:e._f("publicStatus")(t.row.status,"style")}},[e._v(e._s(e._f("publicStatus")(t.row.status)))])]}}])}),e._v(" "),a("el-table-column",{attrs:{label:"创建时间",width:"180",align:"center"},scopedSlots:e._u([{key:"default",fn:function(t){return[e._v(e._s(t.row.createTime))]}}])}),e._v(" "),a("el-table-column",{attrs:{label:"发布时间",width:"180",align:"center"},scopedSlots:e._u([{key:"default",fn:function(t){return[e._v(e._s(t.row.publishTime))]}}])}),e._v(" "),a("el-table-column",{attrs:{label:"操作",width:"120",align:"center"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("el-button",{attrs:{type:"text ",size:"mini"}},[a("router-link",{attrs:{to:{name:"subject",params:{type:"edit"},query:{id:t.row.id}},tag:"span"}},[e._v("编辑")])],1)]}}])})],1),e._v(" "),a("div",{staticClass:"page-wrap"},[a("el-pagination",{attrs:{background:"",layout:"prev, pager, next ","current-page":e.pageInfo.currentPage,"page-count":e.pageInfo.totalPages,"page-size":e.pageInfo.size},on:{"current-change":e.changePage}})],1)],1)},staticRenderFns:[]};var he=a("VU/8")(me,fe,!1,function(e){a("/W3z")},"data-v-8b614b00",null).exports,ge={data:function(){return{params:{title:null,page:1,size:15,sortType:1},checkIds:[],pickerVal:[],pageInfo:{},tableData:[]}},components:{picker:de},methods:{handleSelectionChange:function(e){this.checkIds=this.lodash.map(e,"id"),console.log(this.checkIds)},changePage:function(e){this.params.page=e,this.getData(this.params)},reset:function(){this.params={title:null,page:1,size:15,sortType:1},this.pickerVal=[],this.getData(this.params)},search:function(){console.log(this.pickerVal),this.params.productId=this.pickerVal[0],this.params.moduleId=this.pickerVal[1],this.params.specialTopicId=this.pickerVal[2],this.getData(this.params)},handleFn:function(e){var t=this,a=void 0,n=void 0;"delete"===e?(a=$,n="删除"):(a=D,n="下架"),F("您确定"+n+"选择的内容吗？","提示").then(function(){t.$fly.post(a,t.checkIds).then(function(e){t.$message({message:n+"成功",duration:2e3,type:"success"}),t.getData(t.params)}).catch(function(){t.$message({message:n+"失败",duration:2e3,type:"error"})})})},getData:function(e){var t=this,a=this.lodash.clone(e);a.page--,console.log(e),this.$fly.get(C,a).then(function(a){t.tableData=a.content,t.pageInfo={totalPages:a.totalPages,size:e.size,currentPage:e.page}})}},created:function(){this.getData(this.params)}},ve={render:function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"page"},[a("div",{staticClass:"tools-bar"},[a("div",{staticClass:"left-wrap"},[a("el-input",{attrs:{"prefix-icon":"el-icon-search",placeholder:"请输入搜索关键字",size:"small"},model:{value:e.params.title,callback:function(t){e.$set(e.params,"title",t)},expression:"params.title"}}),e._v(" "),a("picker",{attrs:{size:"small",span:8,column:3},model:{value:e.pickerVal,callback:function(t){e.pickerVal=t},expression:"pickerVal"}}),e._v(" "),a("el-button",{attrs:{size:"small",type:"primary"},on:{click:e.search}},[e._v("查询")]),e._v(" "),a("el-button",{attrs:{size:"small",type:"warning"},on:{click:e.reset}},[e._v("重置")])],1),e._v(" "),a("div",{staticClass:"button-wrap"},[a("el-button",{attrs:{type:"primary",size:"small"},on:{click:function(t){e.toState({name:"article",params:{type:"add"}})}}},[e._v("新增")]),e._v(" "),a("el-button",{attrs:{type:"warning",size:"small",disabled:e.checkIds.length<1},on:{click:function(t){e.handleFn("soldOut")}}},[e._v("下架")]),e._v(" "),a("el-button",{attrs:{type:"danger",size:"small",disabled:e.checkIds.length<1},on:{click:function(t){e.handleFn("delete")}}},[e._v("删除")])],1)]),e._v(" "),a("el-table",{ref:"multipleTable",attrs:{"header-cell-class-name":"tableHeader",data:e.tableData,border:"",stripe:""},on:{"selection-change":e.handleSelectionChange}},[a("el-table-column",{attrs:{type:"selection",width:"55",align:"center"}}),e._v(" "),a("el-table-column",{attrs:{label:"标题",align:"center"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("span",[e._v(e._s(t.row.title))])]}}])}),e._v(" "),a("el-table-column",{attrs:{label:"推荐",align:"center",width:"80"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("el-tag",{attrs:{size:"small",type:1===t.row.isHomePageShow?"danger":"info"}},[e._v(e._s(t.row.isHomePageShow?"推荐":"不推荐"))])]}}])}),e._v(" "),a("el-table-column",{attrs:{label:"所属专题",align:"center"},scopedSlots:e._u([{key:"default",fn:function(t){return[e._v(e._s(t.row.product.name)+"、"+e._s(t.row.module.name)+"、"+e._s(t.row.specialTopic.title))]}}])}),e._v(" "),a("el-table-column",{attrs:{prop:"userName",label:"操作人",width:"120",align:"center"}}),e._v(" "),a("el-table-column",{attrs:{label:"状态",width:"120",align:"center"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("el-tag",{attrs:{size:"small",type:e._f("publicStatus")(t.row.status,"style")}},[e._v(e._s(e._f("publicStatus")(t.row.status)))])]}}])}),e._v(" "),a("el-table-column",{attrs:{prop:"totalReadNum",label:"阅读量",width:"120",align:"center"}}),e._v(" "),a("el-table-column",{attrs:{label:"创建时间",width:"180",align:"center"},scopedSlots:e._u([{key:"default",fn:function(t){return[e._v(e._s(t.row.createTime))]}}])}),e._v(" "),a("el-table-column",{attrs:{label:"发布时间",width:"180",align:"center"},scopedSlots:e._u([{key:"default",fn:function(t){return[e._v(e._s(t.row.publishTime))]}}])}),e._v(" "),a("el-table-column",{attrs:{label:"操作",width:"120",align:"center"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("el-button",{attrs:{type:"text ",size:"mini"}},[a("router-link",{attrs:{to:{name:"article",params:{type:"edit"},query:{id:t.row.id}},tag:"span"}},[e._v("编辑")])],1)]}}])})],1),e._v(" "),a("div",{staticClass:"page-wrap"},[a("el-pagination",{attrs:{background:"",layout:"prev, pager, next",total:1e3}})],1)],1)},staticRenderFns:[]};var be=a("VU/8")(ge,ve,!1,function(e){a("8Qbw")},"data-v-9a59b316",null).exports,_e={render:function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"page"},[a("div",{staticClass:"tools-bar"},[a("div",{staticClass:"left-wrap"},[a("div",{staticClass:"ceil-box"},[a("el-select",{attrs:{placeholder:"请选择产品",size:"small"},model:{value:e.params.product,callback:function(t){e.$set(e.params,"product",t)},expression:"params.product"}},[a("el-option",{attrs:{label:"产品1",value:"shanghai"}}),e._v(" "),a("el-option",{attrs:{label:"产品2",value:"beijing"}})],1)],1)]),e._v(" "),a("div",{staticClass:"button-wrap"},[a("el-button",{attrs:{type:"success",size:"small"}},[e._v("设为热门")]),e._v(" "),a("el-button",{attrs:{type:"primary",size:"small"}},[e._v("发布")]),e._v(" "),a("el-button",{attrs:{type:"warning",size:"small"}},[e._v("下架")]),e._v(" "),a("el-button",{attrs:{type:"danger",size:"small"}},[e._v("删除")])],1)]),e._v(" "),a("el-table",{ref:"multipleTable",attrs:{data:e.tableData,border:"",stripe:""}},[a("el-table-column",{attrs:{type:"selection",width:"55",align:"center"}}),e._v(" "),a("el-table-column",{attrs:{prop:"title",label:"标题",align:"center"}}),e._v(" "),a("el-table-column",{attrs:{prop:"name",label:"操作人",width:"120",align:"center"}}),e._v(" "),a("el-table-column",{attrs:{prop:"status",label:"状态",width:"120",align:"center"}}),e._v(" "),a("el-table-column",{attrs:{label:"发布时间",width:"120",align:"center"},scopedSlots:e._u([{key:"default",fn:function(t){return[e._v(e._s(t.row.date))]}}])}),e._v(" "),a("el-table-column",{attrs:{label:"操作",width:"120",align:"center"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("el-button",{attrs:{type:"text ",size:"mini"}},[a("router-link",{attrs:{to:{name:"topic",params:{type:"edit"}},tag:"span"}},[e._v("编辑")])],1)]}}])})],1),e._v(" "),a("div",{staticClass:"page-wrap"},[a("el-pagination",{attrs:{background:"",layout:"prev, pager, next",total:1e3}})],1)],1)},staticRenderFns:[]};var ye=a("VU/8")({data:function(){return{params:{},tableData:[{date:"2016-05-03",name:"王小虎",status:"上架",title:"我就是标题"},{date:"2016-05-03",name:"王小虎",status:"上架",title:"我就是标题"}],multipleSelection:[]}}},_e,!1,function(e){a("D5yE")},"data-v-e277a052",null).exports,ke={data:function(){return{sortData:[{name:"普通话题",value:0},{name:"投票",value:1}],optionData:[{content:"题目1"},{content:"题目2"},{content:"题目3"}],content:'<p>我们都喜欢幻想，不管是幻想前往热带岛屿度假，还是在潜意识中谴责自己的老板。虽然你可能不会按照幻想去行动，但它们却可以帮你释放压力，甚至激励你在生活中做出积极的改变。性幻想也不例外，它甚至可以让你看透自己的性格。当然，性幻想的主要目的是让你兴奋起来，但是你想象中的性冒险也可以告诉你很多关于你如何看待自己以及周围世界的态度。</p>\n      <p>为了更多地了解美国人的性幻想及其意义，金赛研究所(Kinsey Institute)的社会心理学家、研究员贾斯汀·莱米勒(Justin Lehmiller)对这个话题进行了规模最大、最全面的研究。他询问了4000多名年龄在18岁至87岁之间、涉及各种职业、性别、政治和宗教信仰的美国人有关性幻想的问题。</p>\n\n      <div style="text-align: left;">莱米勒在新书《告诉我你想要什么：性欲科学及其如何帮助你改善性生活》(Tell Me What You Want： The Science of Sexual Desire, and How It Can Help You Improve Your Sex Life)中详述了这些结果。莱米勒想知道：在性爱方面，美国人真正想要什么？他们的欲望来自哪里？这些渴望揭示了什么？莱米勒表示：“人们觉得他们的性幻想很奇怪或不正常。这本书所做的一件大事就是，它将帮助人们认识到，他们并不是唯一拥有这些性幻想的人。”</div>\n      <p></p>\n      <p>莱米勒从全美50个州招募志愿者，主要通过社交媒体填写在线调查。通过分析，莱米勒得出以下结论：</p>\n      <p>1）美国人最多的性幻想是三人性爱。89%的受访者承认自己曾幻想过三人性爱，其中男性更喜欢和两个女人一起玩3P，而女人则不太关心三人性爱参与者的性别。</p>\n      <p>2）几乎每个人都曾幻想过群体性爱和BDSM(束缚、支配/服从、施虐受虐性爱)。在《五十度灰》的时代，这是不可避免的。65%的人幻想在他们的性体验中融入痛苦和支配因素，从束缚、打屁股到轻度窒息。在大多数情况下，人们承认主要的诱惑是放弃对他们伴侣的控制，不管他们的性行为如何。</p>\n      <p>3）改变日常行为，塑造多样化。这应该是显而易见的，但是多样性是生活和性爱的调味品。即使你经常参加恋物游戏，太多的好东西也会导致卧室里的某种不适，而把它换掉是很重要的。显然，相当多的受访者承认，他们只是想要些与他们所习惯的任何标准性体验不同的东西。无论是新的场所、新的环境，还是新的角色，人们通常都希望性生活更加多样化。</p>\n      <p>4）公共性爱幻想。许多最常见的性幻想包括在可能被抓住的地方发生性行为，比如公园、电梯或工作场所。当然，每个人都应该意识到，如果你选择在现实中这样做，你是在拿法律或工作冒险，所以要小心行事。</p>\n      <p>5）非一夫一妻制幻想并不意味着欺骗你的伴侣。相反，它包括保持开放的性关系或者看着你的伴侣和其他人发生性关系。79%的女性对允许自己和伴侣与他人发生性行为感到好奇，并承认自己曾对此抱有幻想。</p>\n      <p>6）研究发现，大多数人本质上渴望从性接触中得到的是被需要和被渴望的感觉。很多人都承认自己幻想过感情驱动的性行为，在这种性行为中，他们对自己的伴侣感到无法抗拒。</p>\n      <p>7）59%的异性恋女性承认对与女性发生性爱心性幻想，26%的异性恋男性曾幻想与其他男性发生关系。</p>\n      <p>莱米勒已经结婚7年，他在普渡大学获得了社会心理学博士学位，并在哈佛大学教授人类性行为学3年。美国心理协会(APA)称，这位“性与心理学”(Sex and Psychology)博客的作者“有点儿像男性Dear Abby，尽管他的博客建立在严谨的科学基础上。”《男性健康》杂志将他列为“性感尤物”之一。他还为《花花公子》杂志撰稿。</p>\n     ',dialogVisible:!1,form:{name:"",sort:0,delivery:!1}}},components:{upload:X,Tinymce:ce},methods:{onEditorBlur:function(e){console.log("editor blur!",e)},onEditorFocus:function(e){console.log("editor focus!",e)},onEditorReady:function(e){console.log("editor ready!",e)},onSubmit:function(){console.log("submit!")}}},we={render:function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"page"},[a("div",{staticClass:"tools-bar"},[a("div",{staticClass:"left-wrap"},[a("back")],1),e._v(" "),a("div",{staticClass:"button-wrap"},[a("el-button",{attrs:{type:"primary",size:"small"}},[e._v("发布")]),e._v(" "),a("el-button",{attrs:{type:"info",size:"small"}},[e._v("保存草稿")]),e._v(" "),a("el-button",{attrs:{type:"danger",size:"small"}},[e._v("删除")])],1)]),e._v(" "),a("el-form",{ref:"form",attrs:{model:e.form,"label-width":"80px"}},[a("el-form-item",{attrs:{"label-width":"0"}},[a("el-col",{attrs:{span:12}},[a("el-form-item",{attrs:{label:"标题"}},[a("el-input",{model:{value:e.form.name,callback:function(t){e.$set(e.form,"name",t)},expression:"form.name"}})],1)],1),e._v(" "),a("el-col",{attrs:{span:4}},[1===e.form.sort?a("el-form-item",{attrs:{"label-width":"20px",prop:"delivery"}},[[a("el-radio",{attrs:{label:"1"},model:{value:e.form.delivery,callback:function(t){e.$set(e.form,"delivery",t)},expression:"form.delivery"}},[e._v("单选")]),e._v(" "),a("el-radio",{attrs:{label:"2"},model:{value:e.form.delivery,callback:function(t){e.$set(e.form,"delivery",t)},expression:"form.delivery"}},[e._v("多选")])]],2):e._e()],1)],1),e._v(" "),a("el-form-item",{attrs:{"label-width":"0"}},[a("el-col",{attrs:{span:6}},[a("el-form-item",{attrs:{label:"产品"}},[a("el-select",{staticClass:"full",attrs:{placeholder:"请选择产品"},model:{value:e.form.region,callback:function(t){e.$set(e.form,"region",t)},expression:"form.region"}},[a("el-option",{attrs:{label:"产品1",value:"shanghai"}}),e._v(" "),a("el-option",{attrs:{label:"产品2",value:"beijing"}})],1)],1)],1),e._v(" "),a("el-col",{attrs:{span:6}},[a("el-form-item",{attrs:{label:"类型"}},[a("el-select",{staticClass:"full",attrs:{placeholder:"请选择类型"},model:{value:e.form.sort,callback:function(t){e.$set(e.form,"sort",t)},expression:"form.sort"}},e._l(e.sortData,function(e,t){return a("el-option",{key:t,attrs:{label:e.name,value:e.value}})}))],1)],1)],1),e._v(" "),a("el-form-item",{attrs:{"label-width":"0"}},[a("el-col",{attrs:{span:6}},[a("el-form-item",{attrs:{label:"发布时间"}},[a("el-date-picker",{staticClass:"full",attrs:{type:"datetime",placeholder:"选择日期时间"},model:{value:e.form.time,callback:function(t){e.$set(e.form,"time",t)},expression:"form.time"}})],1)],1)],1),e._v(" "),1===e.form.sort?a("el-form-item",[a("el-form-item",[a("el-button",{attrs:{type:"info",size:"small"}},[e._v("添加选项")])],1),e._v(" "),a("div",{staticClass:"space"}),e._v(" "),a("el-col",{attrs:{span:18}},[a("el-table",{attrs:{data:e.optionData,border:"","show-header":!1}},[a("el-table-column",{attrs:{label:"索引",align:"center",type:"index",width:"150px"}}),e._v(" "),a("el-table-column",{attrs:{label:"内容",align:"center"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("el-input",{attrs:{placeholder:""},model:{value:t.row.content,callback:function(a){e.$set(t.row,"content",a)},expression:"scope.row.content"}})]}}])}),e._v(" "),a("el-table-column",{attrs:{label:"操作",align:"center",width:"200px"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("el-button",{attrs:{icon:"el-icon-arrow-up",circle:"",size:"small",title:"上移"}}),e._v(" "),a("el-button",{attrs:{icon:"el-icon-arrow-down",circle:"",size:"small",title:"下移"}}),e._v(" "),a("el-button",{attrs:{type:"danger",size:"small"}},[e._v("删除")])]}}])})],1)],1)],1):e._e(),e._v(" "),a("el-form-item",[a("el-form-item",[a("el-col",{attrs:{span:18}},[a("Tinymce",{ref:"editor",attrs:{height:600},model:{value:e.content,callback:function(t){e.content=t},expression:"content"}})],1)],1)],1)],1)],1)},staticRenderFns:[]};var Ce=a("VU/8")(ke,we,!1,function(e){a("wBJm")},"data-v-41d59e61",null).exports,xe={data:function(){return{rules:{title:[{required:!0,message:"请输入专题名称",trigger:"blur"}],content:[{required:!0,message:"请输入内容",trigger:"blur"}],image:[{required:!0,message:"请上传封面",trigger:"blur"}],pickerVal:[{required:!0,validator:function(e,t,a){t.length<3?a(new Error("请选择产品分类和专题")):a()},trigger:"blur"}]},params:{title:"",isHomePageShow:0,pickerVal:[],image:""}}},components:{upload:X,Tinymce:ce,picker:de},methods:{deleteFn:function(){var e=this;F("您确定删除选择的内容吗？","提示").then(function(){e.$fly.post($,[e.params.id]).then(function(t){e.$message({message:"删除成功",duration:2e3,type:"success"}),e.goBack()}).catch(function(){e.$message({message:"删除失败",duration:2e3,type:"error"})})})},submit:function(){var e=this;this.$refs.form.validate(function(t){if(!t)return console.log("error submit!!"),!1;var a=e.params,n=a.title,s=a.isHomePageShow,i=a.image,l=a.pickerVal,r=a.id,o=a.content,c=a.publishTime;e.$fly.post(S,{id:r,title:n,isHomePageShow:s,publishTime:c,image:i,content:o,moduleId:l[1],specialTopicId:l[2],productId:l[0]}).then(function(t){e.$message({message:"保存成功",duration:2e3,type:"success"}),e.$refs.form.resetFields(),e.goBack()}).catch(function(){e.$message({message:"保存失败",duration:2e3,type:"error"})})})}},created:function(){var e=this,t=this.$route.params.type,a=this.$route.query.id;"edit"===t&&this.$fly.get(x,{id:a}).then(function(t){e.params=t,e.params.pickerVal=[t.product.id,t.module.id,t.specialTopic.id]})}},$e={render:function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"page"},[a("div",{staticClass:"tools-bar"},[a("div",{staticClass:"left-wrap"},[a("back")],1),e._v(" "),a("div",{staticClass:"button-wrap"},[a("el-button",{attrs:{type:"warning",size:"small"},on:{click:e.submit}},[e._v("保存")]),e._v(" "),a("el-button",{attrs:{type:"danger",size:"small"},on:{click:e.deleteFn}},[e._v("删除")])],1)]),e._v(" "),a("el-form",{ref:"form",attrs:{model:e.params,rules:e.rules,"label-width":"80px"}},[a("el-form-item",{attrs:{label:"标题",prop:"title"}},[a("el-col",{attrs:{span:12}},[a("el-input",{model:{value:e.params.title,callback:function(t){e.$set(e.params,"title",t)},expression:"params.title"}})],1),e._v(" "),a("el-col",{attrs:{span:4}},[a("el-form-item",{attrs:{"label-width":"20px",prop:"delivery"}},[[a("el-checkbox",{attrs:{"true-label":1,"false-label":0},model:{value:e.params.isHomePageShow,callback:function(t){e.$set(e.params,"isHomePageShow",t)},expression:"params.isHomePageShow"}},[e._v("首页显示")])]],2)],1)],1),e._v(" "),a("el-form-item",{attrs:{"label-width":"0"}},[a("el-col",{attrs:{span:6}},[a("el-form-item",{attrs:{label:"发布时间"}},[a("el-date-picker",{staticClass:"full",attrs:{type:"datetime",placeholder:"请选择发布时间"},model:{value:e.params.publishTime,callback:function(t){e.$set(e.params,"publishTime",t)},expression:"params.publishTime"}})],1)],1)],1),e._v(" "),a("el-form-item",{attrs:{label:"专题",prop:"pickerVal"}},[a("picker",{attrs:{column:3},model:{value:e.params.pickerVal,callback:function(t){e.$set(e.params,"pickerVal",t)},expression:"params.pickerVal"}})],1),e._v(" "),a("el-form-item",{attrs:{label:"封面",prop:"image"}},[a("upload",{attrs:{path:"image/article/"},model:{value:e.params.image,callback:function(t){e.$set(e.params,"image",t)},expression:"params.image"}})],1),e._v(" "),a("el-form-item",{attrs:{prop:"content"}},[a("el-col",{attrs:{span:18}},[a("Tinymce",{ref:"editor",attrs:{height:600},model:{value:e.params.content,callback:function(t){e.$set(e.params,"content",t)},expression:"params.content"}})],1)],1)],1)],1)},staticRenderFns:[]};var De=a("VU/8")(xe,$e,!1,function(e){a("M/el")},"data-v-5933e041",null).exports,Se={data:function(){return{rules:{title:[{required:!0,message:"请输入专题名称",trigger:"blur"}],filePath:[{required:!0,message:"请上传封面",trigger:"blur"}],pickerVal:[{required:!0,validator:function(e,t,a){t.length<2?a(new Error("请选择产品和分类")):a()},trigger:"blur"}]},params:{title:"",isHomePageShow:0,pickerVal:[],filePath:""}}},components:{upload:X,picker:de},methods:{deleteFn:function(){var e=this;F("您确定删除选择的内容吗？","提示").then(function(){e.$fly.post(b,[e.params.id]).then(function(t){e.$message({message:"删除成功",duration:2e3,type:"success"}),e.goBack()}).catch(function(){e.$message({message:"删除失败",duration:2e3,type:"error"})})})},submit:function(){var e=this;this.$refs.form.validate(function(t){if(!t)return console.log("error submit!!"),!1;var a=e.params,n=a.title,s=a.isHomePageShow,i=a.filePath,l=a.pickerVal,r=a.id;e.$fly.post(k,{id:r,title:n,isHomePageShow:s,filePath:i,moduleId:l[1],productId:l[0]}).then(function(t){e.$message({message:"保存成功",duration:2e3,type:"success"}),e.$refs.form.resetFields(),e.goBack()}).catch(function(){e.$message({message:"保存失败",duration:2e3,type:"error"})})})}},created:function(){var e=this,t=this.$route.params.type,a=this.$route.query.id;"edit"===t&&this.$fly.get(y,{id:a}).then(function(t){e.params=t,e.params.pickerVal=[t.productId,t.moduleId]})}},Ve={render:function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"page"},[a("div",{staticClass:"tools-bar"},[a("div",{staticClass:"left-wrap"},[a("back")],1),e._v(" "),a("div",{staticClass:"button-wrap"},[a("el-button",{attrs:{type:"warning",size:"small"},on:{click:e.submit}},[e._v("保存草稿")]),e._v(" "),a("el-button",{attrs:{type:"danger",size:"small"},on:{click:e.deleteFn}},[e._v("删除")])],1)]),e._v(" "),a("el-form",{ref:"form",attrs:{model:e.params,rules:e.rules,"label-width":"80px"}},[a("el-form-item",{attrs:{label:"标题",prop:"title"}},[a("el-col",{attrs:{span:12}},[a("el-input",{model:{value:e.params.title,callback:function(t){e.$set(e.params,"title",t)},expression:"params.title"}})],1),e._v(" "),a("el-col",{attrs:{span:4}},[a("el-form-item",{attrs:{"label-width":"20px"}},[[a("el-checkbox",{attrs:{"true-label":1,"false-label":0},model:{value:e.params.isHomePageShow,callback:function(t){e.$set(e.params,"isHomePageShow",t)},expression:"params.isHomePageShow"}},[e._v("首页显示")])]],2)],1)],1),e._v(" "),a("el-form-item",{attrs:{prop:"pickerVal",label:"分类"}},[a("picker",{model:{value:e.params.pickerVal,callback:function(t){e.$set(e.params,"pickerVal",t)},expression:"params.pickerVal"}})],1),e._v(" "),a("el-form-item",{attrs:{label:"封面",prop:"filePath"}},[a("upload",{model:{value:e.params.filePath,callback:function(t){e.$set(e.params,"filePath",t)},expression:"params.filePath"}})],1)],1)],1)},staticRenderFns:[]};var ze=a("VU/8")(Se,Ve,!1,function(e){a("jwpx")},"data-v-e5e35488",null).exports,Ie={data:function(){return{date:[],pickerOptions2:{disabledDate:function(e){return e.getTime()>Date.now()},shortcuts:[{text:"今天",onClick:function(e){e.$emit("pick",[new Date,new Date])}},{text:"最近一周",onClick:function(e){var t=new Date,a=new Date;a.setTime(a.getTime()-6048e5),e.$emit("pick",[a,t])}},{text:"最近一个月",onClick:function(e){var t=new Date,a=new Date;a.setTime(a.getTime()-2592e6),e.$emit("pick",[a,t])}},{text:"最近三个月",onClick:function(e){var t=new Date,a=new Date;a.setTime(a.getTime()-7776e6),e.$emit("pick",[a,t])}}]},searchName:"",tableData:[],pageInfo:{},loading:!1,pageSizes:[100,200,300,400],addDialog:!1,addForm:{province:"",number:1,type:"ALL"},provinceArr:[],rules:{province:[{required:!0,message:"省份不能为空",trigger:"change"},{validator:function(e,t,a){if("0"===t)return a(new Error("请选择省份"));a()},trigger:"change"}],number:[{type:"number",required:!0,message:"数量不能为空",trigger:"blur"},{validator:function(e,t,a){if(!/^[1-9]\d*$/.test(t))return a(new Error("数量必须是大于0的正整数"));a()},trigger:"blur"}],type:[{required:!0,message:"类型不能为空",trigger:"change"}]}}},computed:{params:function(){return{page:0,size:10,beginDate:this.date[0]||null,endDate:this.date[1]||null}}},methods:{dateChange:function(){this.getData(this.params)},currentChange:function(e){this.params.page=e-1,this.getData(this.params)},handlerExprot:function(e){window.open(this.$fly.config.baseURL+h+"/"+e)},openCard:function(){this.addDialog=!0,this.getProvinces(),this.$refs.addForm&&this.$refs.addForm.resetFields()},save:function(){var e=this,t={count:this.addForm.number,provinceId:this.addForm.province,type:this.addForm.type};this.$refs.addForm.validate(function(a){a&&e.$fly.post(d,t).then(function(t){e.$message({message:"生成成功!",type:"success"}),e.addDialog=!1,e.getData(e.params)}).catch(function(){e.$message({message:"生成失败",type:"error"})})})},resetForm:function(){this.$refs.addForm.resetFields()},getProvinces:function(){var e=this;this.$fly.get(p).then(function(t){var a=t._embedded.provinces;e.provinceArr=a}).catch(function(e){console.log(e)})},getData:function(e){var t=this;this.$fly.get(m,e).then(function(e){var a=e.pageable,n=e.content,s=e.totalElements;t.pageInfo=a,t.pageInfo.totalElements=s,t.tableData=n})}},watch:{$route:function(e,t){"volunteer-list"===e.name&&"volunteer-list"!==t.name&&this.getData(this.params)}},beforeMount:function(){this.getData(this.params)}},Te={render:function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"page"},[a("div",{staticClass:"tools-bar"},[a("div",{staticClass:"left-wrap"},[a("div",{staticClass:"ceil-box"},[a("el-date-picker",{attrs:{size:"small",type:"daterange","unlink-panels":"","range-separator":"至 ","start-placeholder":"开始日期","end-placeholder":"结束日期","picker-options":e.pickerOptions2,"value-format":"timestamp"},on:{change:e.dateChange},model:{value:e.date,callback:function(t){e.date=t},expression:"date"}})],1)]),e._v(" "),a("div",{staticClass:"button-wrap"},[a("el-button",{attrs:{type:"primary",size:"small"},on:{click:e.openCard}},[e._v("开卡")])],1)]),e._v(" "),a("el-table",{directives:[{name:"loading",rawName:"v-loading",value:e.loading,expression:"loading"}],attrs:{data:e.tableData,"header-cell-class-name":"tableHeader","element-loading-text":"拼命加载中",border:"",stripe:""}},[a("el-table-column",{attrs:{type:"index",width:"50"}}),e._v(" "),a("el-table-column",{attrs:{prop:"provinceName",label:"开卡省份",width:"180",align:"center"}}),e._v(" "),a("el-table-column",{attrs:{prop:"type",label:"类型",width:"180",align:"center"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("span",[e._v(e._s("ALL"===t.row.type?"全功能":"志愿卡"))])]}}])}),e._v(" "),a("el-table-column",{attrs:{prop:"count",label:"数量",align:"center"}}),e._v(" "),a("el-table-column",{attrs:{prop:"activatedCount",label:"激活数",align:"center"}}),e._v(" "),a("el-table-column",{attrs:{prop:"createdDate",label:"开卡时间",align:"center"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("span",[e._v(e._s(e._f("dateTime")(t.row.createdDate,"yyyy-MM-dd hh:mm:ss")))])]}}])}),e._v(" "),a("el-table-column",{attrs:{label:"操作",align:"center"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("el-button",{attrs:{type:"text",size:"small"},on:{click:function(a){e.handlerExprot(t.row.id)}}},[e._v("导出")])]}}])})],1),e._v(" "),a("div",{staticClass:"page-wrap text-left padding "},[a("el-pagination",{attrs:{background:"",layout:"total, prev, pager, next,sizes, jumper","page-sizes":e.pageSizes,"current-page":e.pageInfo.pageNumber+1,total:e.pageInfo.totalElements,"page-size":e.pageInfo.pageSize},on:{"current-change":e.currentChange}})],1),e._v(" "),a("el-dialog",{attrs:{title:"开卡",visible:e.addDialog,width:"500px","close-on-click-modal":!1},on:{"update:visible":function(t){e.addDialog=t}}},[a("el-form",{ref:"addForm",attrs:{model:e.addForm,"inline-message":"",rules:e.rules,"label-suffix":":","label-width":"100"}},[a("el-form-item",{attrs:{label:"省份",prop:"province"}},[a("el-select",{attrs:{placeholder:"选择省份"},model:{value:e.addForm.province,callback:function(t){e.$set(e.addForm,"province",t)},expression:"addForm.province"}},[a("el-option",{attrs:{label:"请选择",value:"0"}}),e._v(" "),e._l(e.provinceArr,function(e){return a("el-option",{key:e.id,attrs:{value:e.id,label:e.name}})})],2)],1),e._v(" "),a("el-form-item",{attrs:{label:"数量",prop:"number"}},[a("el-input-number",{staticStyle:{width:"217px"},attrs:{"controls-position":"right"},model:{value:e.addForm.number,callback:function(t){e.$set(e.addForm,"number",t)},expression:"addForm.number"}})],1),e._v(" "),a("el-form-item",{attrs:{label:"类型",prop:"type"}},[a("el-select",{attrs:{placeholder:"选择开卡类型"},model:{value:e.addForm.type,callback:function(t){e.$set(e.addForm,"type",t)},expression:"addForm.type"}},[a("el-option",{attrs:{label:"全功能",value:"ALL"}}),e._v(" "),a("el-option",{attrs:{label:"志愿卡",value:"VOLUNTEER"}})],1)],1)],1),e._v(" "),a("span",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[a("el-button",{on:{click:e.resetForm}},[e._v("重置")]),e._v(" "),a("el-button",{attrs:{type:"primary"},on:{click:e.save}},[e._v("生成志愿卡")])],1)],1)],1)},staticRenderFns:[]};var Fe=a("VU/8")(Ie,Te,!1,function(e){a("Jcmh")},null,null).exports,Ee={data:function(){return{date:[],status:"",pickerOptions2:{disabledDate:function(e){return e.getTime()>Date.now()},shortcuts:[{text:"今天",onClick:function(e){e.$emit("pick",[new Date,new Date])}},{text:"最近一周",onClick:function(e){var t=new Date,a=new Date;a.setTime(a.getTime()-6048e5),e.$emit("pick",[a,t])}},{text:"最近一个月",onClick:function(e){var t=new Date,a=new Date;a.setTime(a.getTime()-2592e6),e.$emit("pick",[a,t])}},{text:"最近三个月",onClick:function(e){var t=new Date,a=new Date;a.setTime(a.getTime()-7776e6),e.$emit("pick",[a,t])}}]},tableData:[],pageInfo:{},loading:!1,pageSizes:[10,100,200,500]}},computed:{params:function(){var e=void 0;return e="true"===this.status||"false"!==this.status&&"",{page:0,size:10,beginDate:this.date[0]||null,endDate:this.date[1]||null,activated:e}}},methods:{dateChange:function(){this.getData(this.params)},activeChange:function(e){console.log(this.params),this.getData(this.params)},currentChange:function(e){this.params.page=e-1,this.getData(this.params)},getData:function(e){var t=this;this.pageInfo={},this.tableData=[],this.$fly.get(f,e).then(function(e){var a=e.pageable,n=e.content,s=e.totalElements;t.pageInfo=a,t.pageInfo.totalElements=s,t.tableData=n})}},watch:{$route:function(e,t){"volunteer-use"===e.name&&"volunteer-use"!==t.name&&this.getData(this.params)}},beforeMount:function(){this.getData(this.params)}},Pe={render:function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"page"},[a("div",{staticClass:"tools-bar"},[a("div",{staticClass:"left-wrap"},[a("div",{staticClass:"ceil-box"},[a("el-date-picker",{attrs:{size:"small",type:"daterange","unlink-panels":"","range-separator":"至 ","start-placeholder":"开始日期","end-placeholder":"结束日期","picker-options":e.pickerOptions2,"value-format":"timestamp"},on:{change:e.dateChange},model:{value:e.date,callback:function(t){e.date=t},expression:"date"}})],1),e._v(" "),a("div",{staticClass:"ceil-box"},[a("el-select",{attrs:{placeholder:"请选择激活状态",size:"small"},on:{change:e.activeChange},model:{value:e.status,callback:function(t){e.status=t},expression:"status"}},[a("el-option",{attrs:{label:"全部",value:""}}),e._v(" "),a("el-option",{attrs:{label:"已激活",value:"true"}}),e._v(" "),a("el-option",{attrs:{label:"未激活",value:"false"}})],1)],1)])]),e._v(" "),a("el-table",{directives:[{name:"loading",rawName:"v-loading",value:e.loading,expression:"loading"}],attrs:{data:e.tableData,"header-cell-style":{background:"#F5F7FA"},"element-loading-text":"拼命加载中",border:"",stripe:""}},[a("el-table-column",{attrs:{type:"index",width:"50"}}),e._v(" "),a("el-table-column",{attrs:{prop:"number",label:"激活卡号",width:"180",align:"center"}}),e._v(" "),a("el-table-column",{attrs:{prop:"phoneNumber",label:"绑定账号",width:"180",align:"center"}}),e._v(" "),a("el-table-column",{attrs:{prop:"type",label:"类型",align:"center"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("span",[e._v(e._s("ALL"===t.row.type?"全功能":"志愿卡"))])]}}])}),e._v(" "),a("el-table-column",{attrs:{prop:"activatedDate",label:"是否激活",width:"180",align:"center"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("span",[e._v(e._s(null===t.row.activatedDate?"否":"是"))])]}}])}),e._v(" "),a("el-table-column",{attrs:{prop:"createdDate",label:"绑定时间",align:"center"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("span",[e._v(e._s(e._f("dateTime")(t.row.createdDate,"yyyy-MM-dd hh:mm:ss")))])]}}])})],1),e._v(" "),a("div",{staticClass:"page-wrap text-left padding "},[a("el-pagination",{attrs:{background:"",layout:"total, prev, pager, next,sizes, jumper","page-sizes":e.pageSizes,"current-page":e.pageInfo.pageNumber+1,total:e.pageInfo.totalElements,"page-size":e.pageInfo.pageSize},on:{"current-change":e.currentChange}})],1)],1)},staticRenderFns:[]},Ne=a("VU/8")(Ee,Pe,!1,null,null,null).exports;l.default.use(c.a);var Ue=new c.a({routes:[{path:"/",redirect:"/login"},{path:"/login",name:"login",component:A},{path:"/view",component:q,redirect:{name:"index"},meta:{requireAuth:!0},children:[{path:"/index",name:"index",component:H,meta:{requireAuth:!0}},{path:"/subject-list",name:"subject-list",component:he,meta:{requireAuth:!0}},{path:"/subject/:type",name:"subject",component:ze,meta:{requireAuth:!0}},{path:"/article-list",name:"article-list",component:be,meta:{requireAuth:!0}},{path:"/article/:type",name:"article",component:De,meta:{requireAuth:!0}},{path:"/topic-list",name:"topic-list",component:ye,meta:{requireAuth:!0}},{path:"/topic/:type",name:"topic",component:Ce,meta:{requireAuth:!0}},{path:"/volunteer-list",name:"volunteer-list",component:Fe},{path:"/volunteer-use",name:"volunteer-use",component:Ne}]}]}),Ae=(a("j1ja"),a("5iEN"),a("MXkr"),a("NYxO")),Oe=function(e){return e.breadData};l.default.use(Ae.a);var Re=new Ae.a.Store({state:{breadData:[]},getters:n,actions:{},mutations:{SET_BREAD_DATA:function(e,t){e.breadData=t}},strict:!1}),qe=a("2X9z"),je=a.n(qe),He=a("4DoD");He.interceptors.request.use(function(e,t){var a=(P.a.get("user")?JSON.parse(P.a.get("user")):"").token;a&&(e.headers.Authorization="Bearer "+a);var n=e.body;for(var s in n)null!==n[s]&&void 0!==n[s]||delete n[s];return e}),He.interceptors.response.use(function(e){return e.data},function(e){var t=e.response?e.response.data:{err:"网络请求错误",code:"-1000"};return e.response||je()({message:"接口调用失败",type:"error"}),t}),console.log(Object({NODE_ENV:"production",CORS:void 0})),He.config.baseURL="http://39.104.124.195:9080/",He.config.timeout=15e3;var Be=He,Le=a("NETs"),Me=a.n(Le),Je={filters:{dateTime:function(e,t){return z(new Date(e),t)},publicStatus:function(e,t){var a=void 0;switch(e){case 1:a="已发布",t&&(a="success");break;case 2:a="草稿",t&&(a="info");break;case 3:a="已下架",t&&(a="warning")}return a}}};l.default.config.productionTip=!1,l.default.prototype.$fly=Be;l.default.use(Me.a,{name:"lodash"}),l.default.use(i.a),l.default.component("back",Q),l.default.mixin(Je),l.default.mixin({methods:{toState:function(e){this.$router.push(e)},goBack:function(e){this.$router.go(e||-1)}}}),Ue.beforeEach(function(e,t,a){var n=(P.a.get("user")?JSON.parse(P.a.get("user")):"").token;e.meta.requireAuth&&!n?a({name:"login"}):a()}),new l.default({el:"#app",router:Ue,store:Re,components:{App:o},template:"<App/>"})},Rno2:function(e,t){},Uk2V:function(e,t){},VPYS:function(e,t){},fXyA:function(e,t){},gOGD:function(e,t){},jwpx:function(e,t){},kJKx:function(e,t){},tvR6:function(e,t){},wBJm:function(e,t){}},["NHnr"]);