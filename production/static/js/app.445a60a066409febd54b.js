webpackJsonp([26],{"08uv":function(e,t){},"0xDb":function(e,t,n){"use strict";var i={login:"/security/login",productAll:"/product/queryAll",getProvinces:"/province/getAll",getProvinceIds:"/send/getProvinceIds",uploadToken:"secret/token",querySpecialTopicInfo:"specialTopicInfo/querySpecialTopicInfo",specialList:"specialTopic/querySpecialTopic",specialDetail:"specialTopic/queryById",queryOneSpecialTopicInfo:"specialTopicInfo/queryOneSpecialTopicInfo","xuanke/specialSoldOut":"/specialTopic/soldOut","zhiyuan/specialSoldOut":"specialTopicInfo/soldOutSpecialTopicInfo","xuanke/specialDelete":"/specialTopic/delete","zhiyuan/specialDelete":"specialTopicInfo/deleteSpecialTopicInfo",specialHandle:"/specialTopic/saveAndUpdate",saveSpecialTopicInfo:"specialTopicInfo/saveSpecialTopicInfo",queryArticleInfoCondition:"articleInfo/queryArticleInfoCondition",articleList:"/article/queryArticleByCondition",queryArticleInfoByCondition:"articleInfo/queryArticleInfoByCondition",articleDetail:"/article/queryById",zhiyuan_articleDetail:"articleInfo/queryById","xuanke/articleDelete":"/article/delete","zhiyuan/articleDelete":"articleInfo/deleteArticleInfo","xuanke/articleSoldOut":"/article/soldOut","zhiyuan/articleSoldOut":"articleInfo/soldOutArticleInfo",articleHandle:"article/addAndUpdate",zhiyuan_articleHandle:"articleInfo/addAndUpdate",articlePublishDelay:"article/publishDelay",zhiyuan_articlePublishDelay:"articleInfo/publishDelay",articlePublishNow:"article/publishNow",zhiyuan_articlePublishNow:"articleInfo/publishNow",topicList:"/gambit/queryByCondition",topicDetail:"/gambit/queryById","xuanke/topicDelete":"/gambit/delete","xuanke/topicSoldOut":"/gambit/soldOut",topicHandle:"/gambit/addAndUpdate",gambitPublishDelay:"gambit/publishDelay",gambitPublishNow:"gambit/publishNow",queryCommentByThemeInfoId:"comment/queryCommentByThemeInfoId",deleteCommentByCommentId:"comment/deleteCommentByCommentId",byCondition:"/membershipCardGenerateRecord/byCondition",generate:"/membershipCard/generate",exportByRecordId:"/membershipCard/exportByRecordId",getMembershipCards:"/membershipCard/byCondition",getFeedback:"feedback/getFeedback",getOrderList:"/order/getListByCondition",bannerList:"/banner/queryByCondition",zhiyuan_bannerList:"bannerInfo/queryBannerInfo",bannerDetail:"/banner/getOne",zhiyuan_bannerDetail:"bannerInfo/queryOneBannerInfo",bannerQueryCondition:"bannerInfo/queryCondition","xuanke/bannerDelete":"banner/deleteByIds","zhiyuan/bannerDelete":"bannerInfo/deleteBannerInfo","xuanke/bannerSoldOut":"/banner/soldOut","zhiyuan/bannerSoldOut":"bannerInfo/soldOutBannerInfo",bannerPublishNow:"/banner/publishNow",zhiyuan_bannerPublishNow:"bannerInfo/directBannerInfo",bannerPublishDelay:"/banner/publishDelay",zhiyuan_bannerPublishDelay:"bannerInfo/timingBannerInfo",bannerSave:"/banner/save",zhiyuan_bannerSave:"bannerInfo/draftBannerInfo",getUsers:"/user/getUsers",nameIsExits:"/user/isExist/",existPassword:"/user/existPassword",resetPassword:"/user/resetPassword",userGetOne:"/user/getOne","system/userDelete":"/user/delete",userSave:"/user/saveOrUpdate",getRoles:"/role/getRoles",roleSave:"/role/saveOrUpdate",roleDelete:"/role/delete/",roleGetOne:"/role/getOne",roleIsExist:"role/existName",getSuperUsers:"/superUser/getSuperUsers",superUserSave:"/superUser/save",superUserDelete:"/superUser/delete",appList:"/appVersion/getAppVersions",appChangeStatus:"/appVersion/change",appSave:"/appVersion/save",VersionIsExit:"/appVersion/isExist",bannerSend:"/send/sendTo",bannerSchedule:"/send/schedule"};function a(e){return("00"+e).substr(e.length)}var r=function(e,t){var n=new Date(e);/(y+)/.test(t)&&(t=t.replace(RegExp.$1,(n.getFullYear()+"").substr(4-RegExp.$1.length)));var i={"M+":n.getMonth()+1,"d+":n.getDate(),"h+":n.getHours(),"m+":n.getMinutes(),"s+":n.getSeconds()};for(var r in i)if(new RegExp("("+r+")").test(t)){var s=i[r]+"";t=t.replace(RegExp.$1,1===RegExp.$1.length?s:a(s))}return t},s=n("lbHh"),o=n.n(s);function u(e){for(var t=o.a.getJSON("user").authority,n=!1,i=function(i){void 0!==e[i].auth&&t.map(function(t){e[i].auth===t&&(n=!0)})},a=0;a<e.length;a++)i(a);return n}function l(e){for(var t=!1,n=0;n<e.length;n++)e[n].auth()&&(t=!0);return t}function c(e){for(var t=!1,n=o.a.getJSON("user").authority,i=function(i){n.map(function(n){e[i].auth()===n&&(t=!0)})},a=0;a<e.length;a++)i(a);return t}var d=function(){return[{id:"1",name:"知涯志愿",depth:3,subNav:[{id:"1-1",name:"专题管理",subNav:[{id:"1-1-1",name:"大学",url:"zhiyuan/special-list",type:"college",auth:"zhiyuan-special-college"},{id:"1-1-2",name:"专业",url:"zhiyuan/special-list",type:"major",auth:"zhiyuan-special-major"},{id:"1-1-3",name:"职业",url:"zhiyuan/special-list",type:"profession",auth:"zhiyuan-special-profession"},{id:"1-1-4",name:"首页",url:"zhiyuan/special-list",type:"index",auth:"zhiyuan-special-index"},{id:"1-1-5",name:"生涯规划",url:"zhiyuan/special-list",type:"career-plan",auth:"zhiyuan-special-career-plan"},{id:"1-1-6",name:"志愿问答",url:"zhiyuan/special-list",type:"volunteer-questions",auth:"zhiyuan-special-volunteer-questions"}],auth:function(){return u(this.subNav)}},{id:"1-2",name:"文章管理",subNav:[{id:"1-2-1",name:"大学",url:"zhiyuan/article-list",type:"college",auth:"zhiyuan-article-college"},{id:"1-2-2",name:"专业",url:"zhiyuan/article-list",type:"major",auth:"zhiyuan-article-major"},{id:"1-2-3",name:"职业",url:"zhiyuan/article-list",type:"profession",auth:"zhiyuan-article-profession"},{id:"1-2-4",name:"首页",url:"zhiyuan/article-list",type:"index",auth:"zhiyuan-article-index"},{id:"1-2-5",name:"生涯规划",url:"zhiyuan/article-list",type:"career-plan",auth:"zhiyuan-article-career-plan"},{id:"1-2-6",name:"志愿问答",url:"zhiyuan/article-list",type:"volunteer-questions",auth:"zhiyuan-article-volunteer-questions"}],auth:function(){return u(this.subNav)}},{id:"1-3",name:"banner管理",subNav:[{id:"1-3-1",name:"首页",url:"zhiyuan/banner-list",type:"index",auth:"zhiyuan-banner-index"},{id:"1-3-2",name:"生涯规划",url:"zhiyuan/banner-list",type:"career-plan",auth:"zhiyuan-banner-career-plan"}],auth:function(){return u(this.subNav)}}],auth:function(){return l(this.subNav)}},{id:"2",name:"知涯选科",depth:3,subNav:[{id:"2-1",name:"内容管理",subNav:[{id:"2-1-1",name:"专题",url:"xuanke/special-list",auth:"xuanke-special-list"},{id:"2-1-2",name:"文章",url:"xuanke/article-list",auth:"xuanke-article-list"},{id:"2-1-3",name:"话题",url:"xuanke/topic-list",auth:"xuanke-topic-list"}],auth:function(){return u(this.subNav)}}],auth:function(){return l(this.subNav)}},{id:"3",name:"知涯卡管理",depth:2,subNav:[{id:"3-1",name:"志愿卡管理",url:"volunteer/card",auth:function(){return"volunteer-card"}},{id:"3-2",name:"使用管理",url:"volunteer/use",auth:function(){return"volunteer-use"}}],auth:function(){return c(this.subNav)}},{id:"4",name:"个人中心",depth:2,subNav:[{id:"4-1",name:"反馈",url:"feedback/list",auth:function(){return"feedback-list"}}],auth:function(){return c(this.subNav)}},{id:"5",name:"交易管理",depth:2,subNav:[{id:"5-1",name:"订单",url:"order/list",auth:function(){return"order"}}],auth:function(){return c(this.subNav)}},{id:"6",name:"系统管理",depth:2,subNav:[{id:"6-1",name:"权限管理",url:"system/authority",auth:function(){return"system-authority"}},{id:"6-2",name:"用户管理",url:"system/user-list",auth:function(){return"system-user"}},{id:"6-3",name:"超级用户",url:"system/super-user",auth:function(){return"system-super-user"}},{id:"6-4",name:"APP自动升级",url:"system/app-list",auth:function(){return"system-appUpdate"}}],auth:function(){return c(this.subNav)}}]},p=n("zL8q"),h=function(e,t){return p.MessageBox.confirm(e,t,{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"})};n.d(t,"a",function(){return i}),n.d(t,"c",function(){return r}),n.d(t,"b",function(){return h}),n.d(t,"d",function(){return d})},"1hf0":function(e,t){},"5aCZ":function(e,t,n){"use strict";var i=n("Xxa5"),a=n.n(i),r=n("exGp"),s=n.n(r),o=n("//Fk"),u=n.n(o),l=n("fZjL"),c=n.n(l),d={name:"editorSlideUpload",props:{color:{type:String,default:"#1890ff"}},data:function(){return{dialogVisible:!1,listObj:{},fileList:[]}},methods:{checkAllSuccess:function(){var e=this;return c()(this.listObj).every(function(t){return e.listObj[t].hasSuccess})},handleSubmit:function(){var e=this,t=c()(this.listObj).map(function(t){return e.listObj[t]});this.checkAllSuccess()?(console.log(t),this.$emit("successCBK",t),this.listObj={},this.fileList=[],this.dialogVisible=!1):this.$message("请等待所有图片上传成功 或 出现了网络问题，请刷新页面重新上传！")},handleSuccess:function(e,t){for(var n=t.uid,i=c()(this.listObj),a=0,r=i.length;a<r;a++)if(this.listObj[i[a]].uid===n)return this.listObj[i[a]].url=e.files.file,void(this.listObj[i[a]].hasSuccess=!0)},handleRemove:function(e){for(var t=e.uid,n=c()(this.listObj),i=0,a=n.length;i<a;i++)if(this.listObj[n[i]].uid===t)return void delete this.listObj[n[i]]},beforeUpload:function(e){var t=this,n=window.URL||window.webkitURL,i=e.uid;return this.listObj[i]={},new u.a(function(a,r){var s=new Image;s.src=n.createObjectURL(e),s.onload=function(){t.listObj[i]={hasSuccess:!1,uid:e.uid,width:this.width,height:this.height}},a(!0)})}}},p={render:function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"upload-container"},[n("el-button",{style:{background:e.color,borderColor:e.color},attrs:{icon:"el-icon-upload",size:"mini",type:"primary"},on:{click:function(t){e.dialogVisible=!0}}},[e._v("上传图片\n  ")]),e._v(" "),n("el-dialog",{attrs:{"append-to-body":"",visible:e.dialogVisible},on:{"update:visible":function(t){e.dialogVisible=t}}},[n("el-upload",{staticClass:"editor-slide-upload",attrs:{action:"https://httpbin.org/post",multiple:!0,"file-list":e.fileList,"show-file-list":!0,"list-type":"picture-card","on-remove":e.handleRemove,"on-success":e.handleSuccess,"before-upload":e.beforeUpload}},[n("el-button",{attrs:{size:"small",type:"primary"}},[e._v("点击上传")])],1),e._v(" "),n("el-button",{on:{click:function(t){e.dialogVisible=!1}}},[e._v("取 消")]),e._v(" "),n("el-button",{attrs:{type:"primary"},on:{click:e.handleSubmit}},[e._v("确 定")])],1)],1)},staticRenderFns:[]};var h=n("VU/8")(d,p,!1,function(e){n("1hf0")},"data-v-50267a50",null).exports,f=["advlist anchor autolink autosave code codesample colorpicker  contextmenu directionality emoticons fullscreen hr image imagetools  insertdatetime link lists media nonbreaking noneditable pagebreak paste preview print save searchreplace spellchecker tabfocus table template textcolor textpattern visualblocks visualchars wordcount"],m=["styleselect undo redo  fontsizeselect forecolor backcolor bold italic underline strikethrough alignleft aligncenter alignright alignjustify outdent indent  blockquote  removeformat code","subscript superscript  codesample hr bullist numlist link image charmap preview anchor pagebreak insertdatetime media table emoticons "],y=n("0xDb"),g=n("lbHh"),b=n.n(g),v=new(n("VDWi").a),k={name:"tinymce",components:{editorImage:h},props:{id:{type:String},value:{type:String,default:""},toolbar:{type:Array,required:!1,default:function(){return[]}},imgOptions:{type:Object,default:function(){return{size:1,quality:.9,maxWidth:1920,resize:!0}}},menubar:{default:"file edit insert view format table"},height:{type:Number,required:!1,default:360},CDN:{type:String,default:"http://fdomsimage.oss-cn-huhehaote.aliyuncs.com/"},path:{type:String,default:"image/editor/"}},data:function(){return{hasChange:!1,hasInit:!1,tinymceId:this.id||"vue-tinymce-"+ +new Date,fullscreen:!1}},watch:{value:function(e){var t=this;!this.hasChange&&this.hasInit&&this.$nextTick(function(){return window.tinymce.get(t.tinymceId).setContent(e||"")})}},mounted:function(){this.initTinymce()},activated:function(){this.initTinymce()},deactivated:function(){this.destroyTinymce()},methods:{initTinymce:function(){var e=this,t=this;window.tinymce.init({selector:"#"+this.tinymceId,height:this.height,body_class:"panel-body ",object_resizing:!1,toolbar:this.toolbar.length>0?this.toolbar:m,menubar:this.menubar,plugins:f,branding:!1,style_formats:[{title:"标题",items:[{title:"h1标签(22px)",block:"h1"},{title:"h2标签(20px)",block:"h2"},{title:"h3标签(18px)",block:"h3"},{title:"h4标签(16px)",block:"h4"},{title:"h5标签(15px)",block:"h5"},{title:"h6标签(14px)",block:"h6"}]},{title:"字间距",items:[{title:"1px",inline:"span",styles:{"letter-spacing":"1px"}},{title:"2px",inline:"span",styles:{"letter-spacing":"2px"}},{title:"3px",inline:"span",styles:{"letter-spacing":"3px"}}]},{title:"取消加粗",inline:"span",styles:{"font-weight":"normal"}},{title:"正文",block:"p"}],fontsize_formats:"12px 14px 15px 16px 18px 20px 22px 24px 28px",end_container_on_empty_block:!0,powerpaste_word_import:"clean",code_dialog_height:450,code_dialog_width:1e3,advlist_bullet_styles:"square",advlist_number_styles:"default",imagetools_cors_hosts:["www.tinymce.com","codepen.io"],default_link_target:"_blank",link_title:!1,language:"zh_CN",nonbreaking_force_tab:!0,init_instance_callback:function(n){t.value&&n.setContent(t.value),t.hasInit=!0,n.on("NodeChange Change KeyUp SetContent",function(){e.hasChange=!0,e.$emit("input",n.getContent())})},setup:function(e){e.on("FullscreenStateChanged",function(e){t.fullscreen=e.state})},images_dataimg_filter:function(e){return setTimeout(function(){},0),e},images_upload_handler:function(e,n,i){var r=this;return s()(a.a.mark(function s(){var o,u,l,c,d;return a.a.wrap(function(a){for(;;)switch(a.prev=a.next){case 0:return o=void 0,u=b.a.getJSON("user").uploadConfig,l=t.path,c=new OSS({accessKeyId:u.accessKeyId,accessKeySecret:u.accessKeySecret,bucket:u.bucketName,endpoint:u.endpoint}),a.prev=4,e.blob().size/1048576<=.8&&(t.imgOptions.quality=1,t.imgOptions.maxWidth=1/0),a.next=9,v.compress(e.blob(),t.imgOptions);case 9:return d=a.sent,a.next=12,c.multipartUpload(l+Object(y.c)(new Date,"yyyyMMddhhmmss"),d);case 12:o=a.sent,a.next=18;break;case 15:a.prev=15,a.t0=a.catch(4),console.log(a.t0);case 18:200===o.res.statusCode?n(t.CDN+o.name):i("上传失败");case 19:case"end":return a.stop()}},s,r,[[4,15]])}))()}})},destroyTinymce:function(){window.tinymce.get(this.tinymceId)&&window.tinymce.get(this.tinymceId).destroy()},setContent:function(e){window.tinymce.get(this.tinymceId).setContent(e)},getContent:function(){window.tinymce.get(this.tinymceId).getContent()},imageSuccessCBK:function(e){var t=this;e.forEach(function(e){window.tinymce.get(t.tinymceId).insertContent('<img class="wscnph" src="'+e.url+'" >')})}},destroyed:function(){this.destroyTinymce()},created:function(){}},x={render:function(){var e=this.$createElement,t=this._self._c||e;return t("div",{staticClass:"tinymce-container editor-container",class:{fullscreen:this.fullscreen}},[t("textarea",{staticClass:"tinymce-textarea",attrs:{id:this.tinymceId}})])},staticRenderFns:[]};var w=n("VU/8")(k,x,!1,function(e){n("M7gZ")},"data-v-aea7c180",null);t.a=w.exports},F1kl:function(e,t){},JD12:function(e,t){},M7gZ:function(e,t){},NHnr:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i=n("7+uW"),a={render:function(){var e=this.$createElement,t=this._self._c||e;return t("div",{attrs:{id:"app"}},[t("router-view")],1)},staticRenderFns:[]},r=n("VU/8")({name:"App"},a,!1,null,null,null).exports,s=n("/ocq");i.default.use(s.a);var o=new s.a({routes:[{path:"/",redirect:"/login"},{path:"/login",name:"login",component:function(){return n.e(11).then(n.bind(null,"Luci"))}},{path:"/layout",component:function(){return n.e(2).then(n.bind(null,"m/fZ"))},redirect:{name:"index"},children:[{path:"/index",name:"index",component:function(){return n.e(1).then(n.bind(null,"2NXm"))},meta:{requireAuth:!0}},{path:"/xuanke/special-list/",name:"xuanke/special-list",component:function(){return n.e(18).then(n.bind(null,"9Oh4"))},meta:{requireAuth:!0}},{path:"/xuanke/special/:type",name:"xuanke/special",component:function(){return n.e(19).then(n.bind(null,"4LOl"))},meta:{requireAuth:!0}},{path:"/xuanke/article-list/",name:"xuanke/article-list",component:function(){return n.e(20).then(n.bind(null,"g7bd"))},meta:{requireAuth:!0}},{path:"/xuanke/article/:type",name:"xuanke/article",component:function(){return n.e(6).then(n.bind(null,"M5IY"))},meta:{requireAuth:!0}},{path:"/xuanke/topic-list/",name:"xuanke/topic-list",component:function(){return n.e(10).then(n.bind(null,"gN/b"))},meta:{requireAuth:!0}},{path:"/xuanke/topic/:type",name:"xuanke/topic",component:function(){return n.e(5).then(n.bind(null,"9qU9"))},meta:{requireAuth:!0}},{path:"/zhiyuan/special-list/:type",name:"zhiyuan/special-list",component:function(){return n.e(13).then(n.bind(null,"Va67"))},meta:{requireAuth:!0}},{path:"/zhiyuan/special/:type",name:"zhiyuan/special",component:function(){return n.e(14).then(n.bind(null,"Qz2r"))},meta:{requireAuth:!0}},{path:"/zhiyuan/article-list/:type",name:"zhiyuan/article-list",component:function(){return n.e(17).then(n.bind(null,"NtuG"))},meta:{requireAuth:!0}},{path:"/zhiyuan/article/:type",name:"zhiyuan/article",component:function(){return n.e(9).then(n.bind(null,"x1R6"))},meta:{requireAuth:!0}},{path:"/zhiyuan/banner-list/:type",name:"zhiyuan/banner-list",component:function(){return n.e(15).then(n.bind(null,"ofch"))},meta:{requireAuth:!0}},{path:"/zhiyuan/banner/:type",name:"zhiyuan/banner",component:function(){return n.e(16).then(n.bind(null,"LWQV"))},meta:{requireAuth:!0}},{path:"/volunteer/card",name:"volunteer/card",component:function(){return n.e(8).then(n.bind(null,"7LK4"))},meta:{requireAuth:!0}},{path:"/volunteer/use",name:"volunteer/use",component:function(){return n.e(21).then(n.bind(null,"3A7L"))},meta:{requireAuth:!0}},{path:"/order/list",name:"order/list",component:function(){return n.e(24).then(n.bind(null,"PckH"))},meta:{requireAuth:!0}},{path:"/feedback/list",name:"feedback/list",component:function(){return n.e(7).then(n.bind(null,"vHLo"))},meta:{requireAuth:!0}},{path:"/system/authority",name:"system/authority",component:function(){return n.e(3).then(n.bind(null,"et2I"))},meta:{requireAuth:!0}},{path:"/system/user-list",name:"system/user-list",component:function(){return n.e(12).then(n.bind(null,"JSff"))},meta:{requireAuth:!0}},{path:"/system/user/:type",name:"system/user",component:function(){return n.e(22).then(n.bind(null,"m5Lm"))},meta:{requireAuth:!0}},{path:"/system/super-user",name:"system/super-user",component:function(){return n.e(0).then(n.bind(null,"QAaw"))},meta:{requireAuth:!0}},{path:"/system/app-list",name:"system/app-list",component:function(){return n.e(4).then(n.bind(null,"5rqN"))},meta:{requireAuth:!0}},{path:"/system/app",name:"system/app",component:function(){return n.e(23).then(n.bind(null,"WfzK"))},meta:{requireAuth:!0}}]}]}),u=n("lbHh"),l=n.n(u),c=n("zL8q"),d=n.n(c),p=n("4DoD");p.interceptors.request.use(function(e){var t=(l.a.getJSON("user")?l.a.getJSON("user"):"").token;t&&(e.headers.Authorization="Bearer "+t);var n=e.body;for(var i in n)null!==n[i]&&void 0!==n[i]||delete n[i];return e}),p.interceptors.response.use(function(e){if(200===e.status)return e.data;Object(c.Message)({message:"接口调用失败",type:"error"})},function(e){console.log(e);var t=e.response?e.response.data:{err:"网络请求错误",code:"-1000"};return e.response||(o.replace({name:"login"}),Object(c.Message)({message:"请求失败",type:"error"})),t}),p.config.baseURL="http://omsapi.junyanginfo.com",p.config.timeout=15e3;var h=p,f=n("NETs"),m=n.n(f),y=n("NYxO"),g=n("UjVw");i.default.use(y.a);var b=new y.a.Store({state:{authority:[]},getters:g,actions:{},mutations:{SET_AUTHORITY:function(e,t){e.authority=t}},strict:!1}),v=(n("j1ja"),n("tvR6"),n("JD12"),n("0xDb")),k={filters:{dateTime:function(e,t){if(e)return Object(v.c)(new Date(e),t)},publicStatus:function(e,t){var n=void 0;switch(e){case 1:n="已发布",t&&(n="success");break;case 2:n="草稿",t&&(n="info");break;case 3:n="已下架",t&&(n="warning");break;case 4:n="待发布",t&&(n="warning")}return n}},methods:{moduleId:function(e){var t=void 0;switch(e){case"college":t=1;break;case"major":t=2;break;case"profession":t=3;break;case"index":t=4;break;case"career-plan":t=5;break;case"volunteer-questions":t=6}return t}}},x=n("pFYg"),w=n.n(x),_=n("BO1k"),z=n.n(_),I={methods:{hasAuth:function(){var e=l.a.getJSON("user").authority,t=function(t){if(e.some(function(e){return e===t}))return{v:!0}},n=!0,i=!1,a=void 0;try{for(var r,s=z()(arguments);!(n=(r=s.next()).done);n=!0){var o=t(r.value);if("object"===(void 0===o?"undefined":w()(o)))return o.v}}catch(e){i=!0,a=e}finally{try{!n&&s.return&&s.return()}finally{if(i)throw a}}return!1}}},S=n("bGai");i.default.config.productionTip=!1,i.default.prototype.$fly=h;i.default.use(d.a),i.default.use(m.a,{name:"lodash"}),i.default.component("back",S.a),i.default.mixin(k),i.default.mixin({methods:{toState:function(e){this.$router.push(e)},goBack:function(e){this.$router.go(e||-1)}}}),i.default.mixin(I),o.beforeEach(function(e,t,n){var i=(l.a.getJSON("user")?l.a.getJSON("user"):"").token;e.meta.requireAuth&&!i?n({name:"login"}):n()}),new i.default({el:"#app",router:o,store:b,components:{App:r},template:"<App/>"})},UjVw:function(e,t){},bGai:function(e,t,n){"use strict";var i=n("//Fk"),a=n.n(i),r=n("Xxa5"),s=n.n(r),o=n("exGp"),u=n.n(o),l=n("0xDb"),c=n("VDWi"),d=n("lbHh"),p=n.n(d),h=new c.a,f={data:function(){return{uploadUrl:"",loading:!1,dialogVisible:!1}},props:{value:{type:String,defaul:""},type:{type:String,default:"image"},imgOptions:{type:Object,default:function(){return{size:20,quality:.9,maxWidth:1920,maxHeight:1080,resize:!0}}},width:{type:[Number,String],default:function(){return null}},height:{type:[Number,String],default:function(){return null}},CDN:{type:String,default:"http://fdomsimage.oss-cn-huhehaote.aliyuncs.com/"},path:{type:String,default:"image/specialtopic/"},accept:{type:String,default:"image/*"}},computed:{imageUrl:function(){return this.value}},methods:{preview:function(){this.dialogVisible=!0},upload:function(e){var t=this;return u()(s.a.mark(function n(){var i,a,r,o,c;return s.a.wrap(function(n){for(;;)switch(n.prev=n.next){case 0:if(i=void 0,a=t.path,console.log(p.a.getJSON("user")),r=p.a.getJSON("user").uploadConfig,o=new OSS({accessKeyId:r.accessKeyId,accessKeySecret:r.accessKeySecret,bucket:r.bucketName,endpoint:r.endpoint}),t.loading=!0,console.log(e),console.log(e.file),"image"!==t.type){n.next=26;break}return n.prev=9,e.file.size/1048576<=.8&&(t.imgOptions.quality=1,t.imgOptions.maxWidth=1/0,t.imgOptions.maxHeight=1/0),n.next=14,h.compress(e.file,t.imgOptions);case 14:return c=n.sent,console.log(c),n.next=18,o.multipartUpload(a+Object(l.c)(new Date,"yyyyMMddhhmmss"),c,{progress:function(){var t=u()(s.a.mark(function t(n){var i;return s.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:(i={}).percent=100*n,e.onProgress(i);case 3:case"end":return t.stop()}},t,this)}));return function(e){return t.apply(this,arguments)}}()});case 18:i=n.sent,n.next=24;break;case 21:n.prev=21,n.t0=n.catch(9),console.log(n.t0);case 24:n.next=55;break;case 26:if("apk"!==t.type){n.next=46;break}if("apk"===e.file.name.split(".")[1]){n.next=34;break}t.$message({message:"只能上传apk类型的文件",duration:2e3,type:"error"}),t.loading=!1,n.next=44;break;case 34:return n.prev=34,o.options.bucket="fdapprelease",n.next=38,o.multipartUpload(a+Object(l.c)(new Date,"yyyyMMddhhmmss"),e.file,{progress:function(){var t=u()(s.a.mark(function t(n){var i;return s.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:(i={}).percent=100*n,e.onProgress(i);case 3:case"end":return t.stop()}},t,this)}));return function(e){return t.apply(this,arguments)}}(),partSize:1024e3,timeout:12e4});case 38:i=n.sent,n.next=44;break;case 41:n.prev=41,n.t1=n.catch(34),console.log(n.t1);case 44:n.next=55;break;case 46:return n.prev=46,n.next=49,o.multipartUpload(a+Object(l.c)(new Date,"yyyyMMddhhmmss"),e.file,{progress:function(){var t=u()(s.a.mark(function t(n){var i;return s.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:(i={}).percent=100*n,e.onProgress(i);case 3:case"end":return t.stop()}},t,this)}));return function(e){return t.apply(this,arguments)}}()});case 49:i=n.sent,n.next=55;break;case 52:n.prev=52,n.t2=n.catch(46),console.log(n.t2);case 55:if(200!==i.res.statusCode){n.next=60;break}return e.onSuccess(i),n.abrupt("return",i);case 60:e.onError("上传失败");case 61:case"end":return n.stop()}},n,t,[[9,21],[34,41],[46,52]])}))()},beforeAvatarUpload:function(e){var t=this;if(null!==t.width&&null!==t.height)return new a.a(function(n,i){var a=window.URL&&window.webkitURL,r=new Image;r.onload=function(){r.width===parseInt(t.width)&&r.height===parseInt(t.height)?n():i()},r.src=a.createObjectURL(e)}).then(function(){return e},function(){return t.$message({message:"图片宽高只能为"+t.width+"*"+t.height,duration:2e3,type:"error"}),a.a.reject()})},handleAvatarSuccess:function(e,t){this.loading=!1;var n=this.CDN+e.name;console.log(n),this.$emit("input",n)}}},m={render:function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"upload"},[n("el-upload",{directives:[{name:"loading",rawName:"v-loading",value:e.loading,expression:"loading"}],staticClass:"avatar-uploader",attrs:{accept:e.accept,action:e.uploadUrl,"show-file-list":!0,"before-upload":e.beforeAvatarUpload,"on-success":e.handleAvatarSuccess,"http-request":e.upload,"element-loading-text":"正在上传","element-loading-spinner":"el-icon-loading","element-loading-background":"rgba(0, 0, 0, 0.8)"}},[e.imageUrl?n("div",{staticClass:"uploaded-wrap"},["image"==e.type?n("img",{staticClass:"avatar",attrs:{src:e.imageUrl}}):e._e(),e._v(" "),"audio"==e.type?n("span",{staticClass:"el-icon-service"}):e._e(),e._v(" "),"video"==e.type?n("span",{staticClass:"el-icon-caret-right"}):e._e(),e._v(" "),"apk"==e.type?n("span",{staticClass:"el-icon-goods"}):e._e(),e._v(" "),"apk"!==e.type?n("div",{staticClass:"btn-wrap"},[n("el-button",{attrs:{icon:"el-icon-zoom-in",size:"mini",circle:""},on:{click:function(t){return t.stopPropagation(),e.preview(t)}}})],1):e._e()]):n("i",{staticClass:"el-icon-upload avatar-uploader-icon"})]),e._v(" "),n("el-dialog",{attrs:{visible:e.dialogVisible,title:"预览"},on:{"update:visible":function(t){e.dialogVisible=t}}},["image"==e.type?n("img",{attrs:{width:"100%",src:e.imageUrl,alt:""}}):e._e(),e._v(" "),"audio"==e.type?n("audio",{attrs:{width:"100%",src:e.imageUrl,controls:""}}):e._e(),e._v(" "),"video"===e.type?n("video",{attrs:{width:"100%",src:e.imageUrl,controls:""}}):e._e()])],1)},staticRenderFns:[]};var y=n("VU/8")(f,m,!1,function(e){n("08uv")},"data-v-67b3445a",null).exports,g={data:function(){return{firstData:[],secondData:[],pickerVal:[]}},props:{value:{type:Array,default:function(){return[]}},span:{type:Number,default:6},size:{type:String,default:""},column:{type:Number,default:1}},watch:{value:{handler:function(e,t){var n=this;this.pickerVal=e,e.length&&this.column>1&&this.$fly.get(l.a.productAll).then(function(e){n.firstData=e,n.lodash.isUndefined(n.pickerVal[0])||n.firstChange(n.pickerVal[0],!0)})},immediate:!0}},methods:{firstChange:function(e,t){var n=this.lodash.findIndex(this.firstData,function(t){return t.id===e});this.secondData=this.firstData[n].specialTopics,t||this.pickerVal.splice(1,2),this.$emit("input",this.pickerVal)},secondChange:function(e,t){this.$emit("input",this.pickerVal)}},created:function(){var e=this;this.$fly.get(l.a.productAll).then(function(t){e.firstData=t,e.lodash.isUndefined(e.pickerVal[0])||e.firstChange(e.pickerVal[0],!0)})}},b={render:function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"picker-wrap"},[n("el-col",{attrs:{span:e.span}},[n("el-select",{staticClass:"full",attrs:{placeholder:"请选择产品",size:e.size},on:{change:e.firstChange},model:{value:e.pickerVal[0],callback:function(t){e.$set(e.pickerVal,0,t)},expression:"pickerVal[0]"}},e._l(e.firstData,function(e,t){return n("el-option",{key:t,attrs:{label:e.name,value:e.id}})}))],1),e._v(" "),2===e.column?n("el-col",{attrs:{span:e.span}},[n("el-select",{staticClass:"full",attrs:{placeholder:"请选择专题",size:e.size},on:{change:e.secondChange},model:{value:e.pickerVal[1],callback:function(t){e.$set(e.pickerVal,1,t)},expression:"pickerVal[1]"}},e._l(e.secondData,function(e,t){return n("el-option",{key:t,attrs:{label:e.title,value:e.id}})}))],1):e._e()],1)},staticRenderFns:[]};var v=n("VU/8")(g,b,!1,function(e){n("F1kl")},"data-v-6818f918",null).exports,k={data:function(){return{checkIds:[]}},props:{showHot:{type:Boolean,default:!1},checkData:{type:Array,default:function(){return[]}},module:{type:Number,default:null},showSoldout:{type:Boolean,default:!0},showDelete:{type:Boolean,default:!0}},methods:{handleFn:function(e){var t=this,n=this.$route.name.split("-")[0];if("add"===e)this.toState({name:n,params:{type:"add"},query:{moduleId:this.module}});else{var i=void 0,a=void 0;"delete"===e?(i=l.a[n+"Delete"],console.log(i),a="删除"):"soldOut"===e?(i=l.a[n+"SoldOut"],a="下架"):"hot"===e&&(i=l.a[n+"Hot"],a="设为热门"),Object(l.b)("您确定将选择的内容"+a+"吗？","提示").then(function(){t.checkIds=[];for(var e=0;e<t.checkData.length;e++)if(console.log(t.checkData),"下架"===a){if(2===t.checkData[e].status||3===t.checkData[e].status)return t.$message.error("已下架或草稿状态的内容不能"+a),void(t.checkIds=[]);t.checkIds.push(t.checkData[e].id)}else if("删除"===a){if(1===t.checkData[e].status)return t.$message.error("已发布的内容不能"+a),void(t.checkIds=[]);t.checkIds.push(t.checkData[e].id)}else t.checkIds.push(t.checkData[e].id);console.log(t.checkIds),t.checkIds.length>0&&t.$fly.post(i,t.checkIds).then(function(e){t.$message({message:a+"成功",duration:2e3,type:"success"}),t.$emit("refresh")}).catch(function(){t.$message({message:a+"失败",duration:2e3,type:"error"})})})}}},beforeMount:function(){}},x={render:function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"button-wrap"},[e.showHot?n("el-button",{attrs:{type:"danger",size:"small",disabled:e.checkData.length<1},on:{click:function(t){t.stopPropagation(),e.handleFn("hot")}}},[e._v("设为热门")]):e._e(),e._v(" "),n("el-button",{attrs:{type:"primary",size:"small"},on:{click:function(t){t.stopPropagation(),e.handleFn("add")}}},[e._v("新增")]),e._v(" "),e.showSoldout?n("el-button",{attrs:{type:"warning",size:"small",disabled:e.checkData.length<1},on:{click:function(t){t.stopPropagation(),e.handleFn("soldOut")}}},[e._v("下架")]):e._e(),e._v(" "),e.showDelete?n("el-button",{attrs:{type:"danger",size:"small",disabled:e.checkData.length<1},on:{click:function(t){t.stopPropagation(),e.handleFn("delete")}}},[e._v("删除")]):e._e(),e._v(" "),e._t("default")],2)},staticRenderFns:[]};var w=n("VU/8")(k,x,!1,function(e){n("k+zK")},null,null).exports,_={name:"Pagination",props:{total:{required:!0,type:Number},page:{type:Number,default:1},pageSizes:{type:Array,default:function(){return[10,50,100,200,500]}},limit:{type:Number,default:10},layout:{type:String,default:"total,sizes, prev, pager, next, jumper"}},computed:{currentPage:{get:function(){return this.page},set:function(e){this.$emit("update:page",e)}},pageSize:{get:function(){return this.limit},set:function(e){this.$emit("update:limit",e)}}},methods:{sizeChange:function(e){this.$emit("pagination",{page:this.currentPage,limit:e})},currentChange:function(e){this.$emit("pagination",{page:e,limit:this.pageSize})}}},z={render:function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"page-wrap padding"},[n("el-pagination",{attrs:{background:"",layout:e.layout,total:e.total,"current-page":e.currentPage,"page-sizes":e.pageSizes,"page-size":e.pageSize},on:{"update:currentPage":function(t){e.currentPage=t},"update:pageSize":function(t){e.pageSize=t},"current-change":e.currentChange,"size-change":e.sizeChange}})],1)},staticRenderFns:[]};var I=n("VU/8")(_,z,!1,function(e){n("iHW6")},"data-v-2c573a5a",null).exports,S=n("5aCZ"),C={render:function(){var e=this.$createElement;return(this._self._c||e)("el-button",{attrs:{type:"primary",icon:"el-icon-arrow-left",size:"small",circle:""},on:{click:this.back}})},staticRenderFns:[]},O=n("VU/8")({methods:{back:function(){this.$router.go(-1)}}},C,!1,null,null,null).exports,D=n("woOf"),N=n.n(D);var q={data:function(){return{prefixCls:"drawer",visible:this.value}},props:{value:{type:Boolean,default:!1},title:{type:String},width:{type:[Number,String],default:256},right:{type:[Number,String],default:0},closable:{type:Boolean,default:!0},showHead:{type:Boolean,default:!0},showFooter:{type:Boolean,default:!1},placement:{validator:function(e){return function(e,t){for(var n=0;n<t.length;n++)if(e===t[n])return!0;return!1}(e,["left","right"])},default:"right"}},computed:{classes:function(){return["drawer","drawer-"+this.placement]},mainStyles:function(){var e={},t=parseInt(this.width),n=parseInt(this.right),i={width:t<=100?t+"%":t+"px",right:n+"px"};return N()(e,i),e}},watch:{value:function(e){this.visible=e}},methods:{close:function(){this.visible=!1,this.$emit("input",!1),this.$emit("on-close")},handleBodyClick:function(e){var t=e||window.e,n=document.getElementById("drawer-wrap");if(n){if(n.contains(t.target))return;this.visible=!1,this.$emit("bodyClick",!1)}}},mounted:function(){this.visible||document.addEventListener("click",this.handleBodyClick)},destroyed:function(){document.removeEventListener("click",this.handleBodyClick)}},A={render:function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"drawer-wrap",attrs:{id:"drawer-wrap"}},[n("transition",{attrs:{name:"move-"+e.placement}},[n("div",{directives:[{name:"show",rawName:"v-show",value:e.visible,expression:"visible"}],ref:"content",class:e.classes,style:e.mainStyles},[e.showHead?n("div",{class:e.prefixCls+"-header"},[e._t("header",[n("div",{class:e.prefixCls+"-header-inner"},[e._v(e._s(e.title))])])],2):e._e(),e._v(" "),e.closable?n("a",{class:e.prefixCls+"-close",on:{click:e.close}},[e._t("close",[n("i",{staticClass:"icon-close el-icon-close"})])],2):e._e(),e._v(" "),n("div",{class:e.prefixCls+"-body"},[e._t("default")],2),e._v(" "),e.showFooter?n("div",{class:e.prefixCls+"-footer"},[e._t("footer")],2):e._e()])])],1)},staticRenderFns:[]};var U=n("VU/8")(q,A,!1,function(e){n("czGk")},"data-v-7fac2852",null).exports;n.d(t,"f",function(){return y}),n.d(t,"e",function(){return v}),n.d(t,"c",function(){return w}),n.d(t,"d",function(){return I}),n.d(t,!1,function(){return S.a}),n.d(t,"a",function(){return O}),n.d(t,"b",function(){return U})},czGk:function(e,t){},iHW6:function(e,t){},"k+zK":function(e,t){},tvR6:function(e,t){}},["NHnr"]);
//# sourceMappingURL=app.445a60a066409febd54b.js.map