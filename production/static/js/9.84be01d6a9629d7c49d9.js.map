{"version":3,"sources":["webpack:///src/pages/xuanke/topic/list.vue","webpack:///./src/pages/xuanke/topic/list.vue?205d","webpack:///./src/pages/xuanke/topic/list.vue"],"names":["list","data","pickerVal","params","title","page","sortType","checkData","pageInfo","totalElements","currentPage","tableData","loading","visible","loading2","commentParams","themeInfoId","commentTableData","commentPageInfo","components","picker","listHandle","pagination","drawer","methods","lookComment","row","this","id","size","$refs","pageSizes","getCommentData","close","closeAnimate","popoverIsClose","startAnimate","handleSelectionChange","e","_this2","lodash","map","item","push","status","limit","getData","reset","search","refresh","_this3","productId","$fly","get","utils","topicList","then","content","commentPagination","handleDelete","_this4","Object","deleteCommentByCommentId","commentId","console","log","$message","message","duration","type","catch","action","commentCurrentChange","commentSizeChange","_this5","queryCommentByThemeInfoId","parseInt","handleBodyClick","created","mounted","topic_list","render","_vm","_h","$createElement","_c","_self","staticClass","attrs","prefix-icon","placeholder","model","value","callback","$$v","$set","expression","_v","span","on","click","show-hot","directives","name","rawName","ref","header-cell-class-name","element-loading-text","border","stripe","selection-change","width","align","label-class-name","label","min-width","show-overflow-tooltip","scopedSlots","_u","key","fn","scope","_s","isHot","product","prop","_f","totalReadNum","createTime","publishTime","to","query","tag","_e","$event","stopPropagation","total","update:page","right","placement","bodyClick","commentContent","commentTime","staticRenderFns","Component","__webpack_require__","normalizeComponent","ssrContext","__webpack_exports__"],"mappings":"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","file":"static/js/9.84be01d6a9629d7c49d9.js","sourcesContent":["<template>\r\n  <div class=\"page\">\r\n    <div class=\"tools-bar\">\r\n      <div class=\"left-wrap\">\r\n        <el-input prefix-icon=\"el-icon-search\" v-model=\"params.title\" placeholder=\"请输入搜索关键字\" size=\"small\"></el-input>\r\n        <picker v-model=\"pickerVal\" size=\"small\" :span=\"-1\"></picker>\r\n        <el-button size=\"small\" type=\"primary\" @click=\"search\">查询</el-button>\r\n        <el-button size=\"small\" type=\"warning\" @click=\"reset\">重置</el-button>\r\n      </div>\r\n      <listHandle :checkData=\"checkData\" @refresh=\"refresh\" show-hot></listHandle>\r\n    </div>\r\n    <el-table ref=\"multipleTable\" header-cell-class-name=\"tableHeader\" :data=\"tableData\" v-loading=\"loading\" element-loading-text=\"拼命加载中\" border stripe @selection-change=\"handleSelectionChange\">\r\n      <el-table-column type=\"selection\" width=\"55\" align=\"center\" label-class-name=\"checkLabel\">\r\n      </el-table-column>\r\n      <el-table-column label=\"标题\" align=\"center\" min-width=\"180\" show-overflow-tooltip>\r\n        <template slot-scope=\"scope\">\r\n          <span>{{ scope.row.title }}</span>\r\n        </template>\r\n      </el-table-column>\r\n      <el-table-column label=\"是否热门\" align=\"center\" width=\"80\">\r\n        <template slot-scope=\"scope\">\r\n          <el-tag size=\"small\" :type=\"scope.row.isHot===1?'danger':'info'\">{{scope.row.isHot?'是':'否'}}</el-tag>\r\n        </template>\r\n      </el-table-column>\r\n      <el-table-column label=\"所属产品\" width=\"120\" align=\"center\">\r\n        <template slot-scope=\"scope\">{{ scope.row.product.name }}</template>\r\n      </el-table-column>\r\n      <el-table-column prop=\"userName\" label=\"操作人\" min-width=\"260\" align=\"center\">\r\n      </el-table-column>\r\n      <el-table-column label=\"状态\" width=\"120\" align=\"center\">\r\n        <template slot-scope=\"scope\">\r\n          <el-tag size=\"small\" :type=\"scope.row.status | publicStatus('style')\">{{ scope.row.status | publicStatus }}</el-tag>\r\n        </template>\r\n      </el-table-column>\r\n      <el-table-column prop=\"totalReadNum\" label=\"阅读量\" width=\"120\" align=\"center\">\r\n        <template slot-scope=\"scope\">\r\n          {{scope.row.totalReadNum}}\r\n        </template>\r\n      </el-table-column>\r\n      <el-table-column label=\"创建时间\" width=\"180\" align=\"center\">\r\n        <template slot-scope=\"scope\">{{ scope.row.createTime | dateTime('yyyy-MM-dd hh:mm:ss')}}</template>\r\n      </el-table-column>\r\n      <el-table-column label=\"发布时间\" width=\"180\" align=\"center\">\r\n        <template slot-scope=\"scope\">{{ scope.row.publishTime | dateTime('yyyy-MM-dd hh:mm:ss')}}</template>\r\n      </el-table-column>\r\n      <el-table-column label=\"操作\" width=\"120\" align=\"center\">\r\n        <template slot-scope=\"scope \">\r\n          <el-button type=\"text \" size=\"mini\" v-if=\"scope.row.status===2||scope.row.status===3\">\r\n            <router-link :to=\"{name:'xuanke/topic',params:{type:'edit'},query:{id:scope.row.id}}\" tag=\"span\">编辑</router-link>\r\n          </el-button>\r\n          <el-button type=\"text\" size=\"small\" @click.stop=\"lookComment(scope.row)\">查看评论</el-button>\r\n        </template>\r\n      </el-table-column>\r\n    </el-table>\r\n    <pagination ref=\"pageInfo\" :total=\"pageInfo.totalElements\" :page.sync=\"pageInfo.currentPage\" @pagination=\"pagination\"></pagination>\r\n    <drawer class=\"drawer-components\" v-model=\"visible\" title=\"评论\" width=\"60\" right=\"140\" placement=\"right\" @bodyClick=\"handleBodyClick\">\r\n      <el-table header-cell-class-name=\"tableHeader\" :data=\"commentTableData\" v-loading=\"loading2\" element-loading-text=\"拼命加载中\" border stripe>\r\n        <el-table-column type=\"index\" width=\"55\" align=\"center\">\r\n        </el-table-column>\r\n        <el-table-column prop=\"useId\" label=\"评论人\" align=\"center\">\r\n        </el-table-column>\r\n        <el-table-column label=\"内容\" align=\"center\" min-width=\"180\" show-overflow-tooltip>\r\n          <template slot-scope=\"scope\">\r\n            <span>{{ scope.row.commentContent }}</span>\r\n          </template>\r\n        </el-table-column>\r\n        <el-table-column label=\"创建时间\" width=\"200\" align=\"center\">\r\n          <template slot-scope=\"scope\">{{ scope.row.commentTime | dateTime('yyyy-MM-dd hh:mm:ss')}}</template>\r\n        </el-table-column>\r\n        <el-table-column label=\"操作\" width=\"100\" align=\"center\">\r\n          <template slot-scope=\"scope\">\r\n            <el-button type=\"text \" size=\"mini\" @click.stop=\"handleDelete(scope.row)\">删除</el-button>\r\n          </template>\r\n        </el-table-column>\r\n      </el-table>\r\n      <pagination ref=\"commentPageInfo\" :total=\"commentPageInfo.totalElements\" :page.sync=\"commentPageInfo.currentPage\" @pagination=\"commentPagination\"></pagination>\r\n    </drawer>\r\n  </div>\r\n</template>\r\n<script>\r\nimport { api, confirm } from '@/utils'\r\nimport { picker, listHandle, pagination, drawer } from '@/components'\r\nexport default {\r\n  data () {\r\n    return {\r\n      pickerVal: [],\r\n      params: {\r\n        title: null,\r\n        page: 1,\r\n        sortType: 1\r\n      },\r\n      checkData: [],\r\n      pageInfo: {\r\n        totalElements: 0,\r\n        currentPage: 1\r\n      },\r\n      tableData: [],\r\n      loading: false,\r\n      visible: false,\r\n      loading2: false,\r\n      commentParams: {\r\n        themeInfoId: '',\r\n        page: 1\r\n      },\r\n      commentTableData: [],\r\n      commentPageInfo: {\r\n        totalElements: 0,\r\n        currentPage: 1\r\n      }\r\n    }\r\n  },\r\n  components: {\r\n    picker,\r\n    listHandle,\r\n    pagination,\r\n    drawer\r\n  },\r\n  methods: {\r\n    // 查看评论\r\n    lookComment (row) {\r\n      this.visible = true\r\n      this.commentParams = {\r\n        page: 1,\r\n        themeInfoId: row.id,\r\n        size: this.$refs.commentPageInfo.pageSizes[0]\r\n      }\r\n      this.getCommentData(this.commentParams)\r\n    },\r\n    close () {\r\n      this.closeAnimate = true\r\n      this.popoverIsClose = true\r\n      this.startAnimate = false\r\n    },\r\n    handleSelectionChange (e) {\r\n      this.checkData = []\r\n      this.lodash.map(e, (item) => {\r\n        this.checkData.push({ id: item.id, status: item.status })\r\n      })\r\n    },\r\n    // 话题列表分页操作事件\r\n    pagination (e) {\r\n      this.params.page = e.page\r\n      this.params.size = e.limit\r\n      this.getData(this.params)\r\n    },\r\n    reset () {\r\n      this.params = {\r\n        title: null,\r\n        page: 1,\r\n        size: this.$refs.pageInfo.size,\r\n        sortType: 1\r\n      }\r\n      this.pickerVal = []\r\n      this.getData(this.params)\r\n    },\r\n    search () {\r\n      this.getData(this.params)\r\n    },\r\n    refresh () {\r\n      this.getData(this.params)\r\n    },\r\n    getData (params) {\r\n      // let params = this.lodash.clone(obj)\r\n      params.productId = this.pickerVal[0]\r\n      params.page--\r\n      this.loading = true\r\n      this.$fly.get(api.topicList, params).then(data => {\r\n        this.loading = false\r\n        this.tableData = data.content\r\n        this.tableData.map((item) => {\r\n          item['visible'] = false\r\n          return item\r\n        })\r\n        this.pageInfo = {\r\n          totalElements: data.totalElements,\r\n          currentPage: params.page + 1\r\n        }\r\n      })\r\n    },\r\n    commentPagination (e) {\r\n      this.commentParams.page = e.page\r\n      this.commentParams.size = e.limit\r\n      this.getCommentData(this.commentParams)\r\n    },\r\n    // 删除话题\r\n    handleDelete (row) {\r\n      confirm(`您确定将删除该评论吗？`, '提示').then(() => {\r\n        this.popoverIsClose = true\r\n        this.closeAnimate = false\r\n        this.startAnimate = false\r\n        this.$fly.get(api.deleteCommentByCommentId, {\r\n          themeInfoId: this.commentParams.themeInfoId,\r\n          commentId: row.commentId\r\n        }).then(data => {\r\n          console.log(data)\r\n          this.getCommentData(this.commentParams)\r\n          this.$message({\r\n            message: '删除成功',\r\n            duration: 2000,\r\n            type: 'success'\r\n          })\r\n        })\r\n      }).catch(action => {\r\n        this.popoverIsClose = true\r\n        this.closeAnimate = false\r\n        this.startAnimate = false\r\n      })\r\n    },\r\n    commentCurrentChange (e) {\r\n      this.popoverIsClose = true\r\n      this.closeAnimate = false\r\n      this.startAnimate = false\r\n      this.commentParams.page = e\r\n      this.getCommentData(this.commentParams)\r\n    },\r\n    commentSizeChange (e) {\r\n      this.commentParams.page = 1\r\n      this.commentParams.size = e\r\n      this.getCommentData(this.commentParams)\r\n    },\r\n    getCommentData (params) {\r\n      params.page--\r\n      this.loading2 = true\r\n      this.$fly.get(api.queryCommentByThemeInfoId, params).then(data => {\r\n        this.loading2 = false\r\n        this.commentTableData = data.content\r\n        this.commentPageInfo = {\r\n          totalElements: parseInt(data.totalElements),\r\n          currentPage: params.page + 1\r\n        }\r\n      })\r\n    },\r\n    handleBodyClick (e) {\r\n      let _this = this\r\n      _this.visible = e\r\n    }\r\n  },\r\n  created () {\r\n    this.getData(this.params)\r\n  },\r\n  mounted () {\r\n    this.params.size = this.$refs.pageInfo.pageSizes[0]\r\n  }\r\n}\r\n</script>\r\n<style lang=\"scss\" scoped>\r\n// .drawer-components {\r\n//   border: 1px solid red;\r\n//   .el-table {\r\n//     border: 1px solid red;\r\n//     width: 100%;\r\n//   }\r\n// }\r\n.checkLabel > .el-checkbox {\r\n  display: none;\r\n}\r\n.dialog-wrap {\r\n  bottom: 0;\r\n}\r\n</style>\r\n\n\n\n// WEBPACK FOOTER //\n// src/pages/xuanke/topic/list.vue","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"page\"},[_c('div',{staticClass:\"tools-bar\"},[_c('div',{staticClass:\"left-wrap\"},[_c('el-input',{attrs:{\"prefix-icon\":\"el-icon-search\",\"placeholder\":\"请输入搜索关键字\",\"size\":\"small\"},model:{value:(_vm.params.title),callback:function ($$v) {_vm.$set(_vm.params, \"title\", $$v)},expression:\"params.title\"}}),_vm._v(\" \"),_c('picker',{attrs:{\"size\":\"small\",\"span\":-1},model:{value:(_vm.pickerVal),callback:function ($$v) {_vm.pickerVal=$$v},expression:\"pickerVal\"}}),_vm._v(\" \"),_c('el-button',{attrs:{\"size\":\"small\",\"type\":\"primary\"},on:{\"click\":_vm.search}},[_vm._v(\"查询\")]),_vm._v(\" \"),_c('el-button',{attrs:{\"size\":\"small\",\"type\":\"warning\"},on:{\"click\":_vm.reset}},[_vm._v(\"重置\")])],1),_vm._v(\" \"),_c('listHandle',{attrs:{\"checkData\":_vm.checkData,\"show-hot\":\"\"},on:{\"refresh\":_vm.refresh}})],1),_vm._v(\" \"),_c('el-table',{directives:[{name:\"loading\",rawName:\"v-loading\",value:(_vm.loading),expression:\"loading\"}],ref:\"multipleTable\",attrs:{\"header-cell-class-name\":\"tableHeader\",\"data\":_vm.tableData,\"element-loading-text\":\"拼命加载中\",\"border\":\"\",\"stripe\":\"\"},on:{\"selection-change\":_vm.handleSelectionChange}},[_c('el-table-column',{attrs:{\"type\":\"selection\",\"width\":\"55\",\"align\":\"center\",\"label-class-name\":\"checkLabel\"}}),_vm._v(\" \"),_c('el-table-column',{attrs:{\"label\":\"标题\",\"align\":\"center\",\"min-width\":\"180\",\"show-overflow-tooltip\":\"\"},scopedSlots:_vm._u([{key:\"default\",fn:function(scope){return [_c('span',[_vm._v(_vm._s(scope.row.title))])]}}])}),_vm._v(\" \"),_c('el-table-column',{attrs:{\"label\":\"是否热门\",\"align\":\"center\",\"width\":\"80\"},scopedSlots:_vm._u([{key:\"default\",fn:function(scope){return [_c('el-tag',{attrs:{\"size\":\"small\",\"type\":scope.row.isHot===1?'danger':'info'}},[_vm._v(_vm._s(scope.row.isHot?'是':'否'))])]}}])}),_vm._v(\" \"),_c('el-table-column',{attrs:{\"label\":\"所属产品\",\"width\":\"120\",\"align\":\"center\"},scopedSlots:_vm._u([{key:\"default\",fn:function(scope){return [_vm._v(_vm._s(scope.row.product.name))]}}])}),_vm._v(\" \"),_c('el-table-column',{attrs:{\"prop\":\"userName\",\"label\":\"操作人\",\"min-width\":\"260\",\"align\":\"center\"}}),_vm._v(\" \"),_c('el-table-column',{attrs:{\"label\":\"状态\",\"width\":\"120\",\"align\":\"center\"},scopedSlots:_vm._u([{key:\"default\",fn:function(scope){return [_c('el-tag',{attrs:{\"size\":\"small\",\"type\":_vm._f(\"publicStatus\")(scope.row.status,'style')}},[_vm._v(_vm._s(_vm._f(\"publicStatus\")(scope.row.status)))])]}}])}),_vm._v(\" \"),_c('el-table-column',{attrs:{\"prop\":\"totalReadNum\",\"label\":\"阅读量\",\"width\":\"120\",\"align\":\"center\"},scopedSlots:_vm._u([{key:\"default\",fn:function(scope){return [_vm._v(\"\\n        \"+_vm._s(scope.row.totalReadNum)+\"\\n      \")]}}])}),_vm._v(\" \"),_c('el-table-column',{attrs:{\"label\":\"创建时间\",\"width\":\"180\",\"align\":\"center\"},scopedSlots:_vm._u([{key:\"default\",fn:function(scope){return [_vm._v(_vm._s(_vm._f(\"dateTime\")(scope.row.createTime,'yyyy-MM-dd hh:mm:ss')))]}}])}),_vm._v(\" \"),_c('el-table-column',{attrs:{\"label\":\"发布时间\",\"width\":\"180\",\"align\":\"center\"},scopedSlots:_vm._u([{key:\"default\",fn:function(scope){return [_vm._v(_vm._s(_vm._f(\"dateTime\")(scope.row.publishTime,'yyyy-MM-dd hh:mm:ss')))]}}])}),_vm._v(\" \"),_c('el-table-column',{attrs:{\"label\":\"操作\",\"width\":\"120\",\"align\":\"center\"},scopedSlots:_vm._u([{key:\"default\",fn:function(scope ){return [(scope.row.status===2||scope.row.status===3)?_c('el-button',{attrs:{\"type\":\"text \",\"size\":\"mini\"}},[_c('router-link',{attrs:{\"to\":{name:'xuanke/topic',params:{type:'edit'},query:{id:scope.row.id}},\"tag\":\"span\"}},[_vm._v(\"编辑\")])],1):_vm._e(),_vm._v(\" \"),_c('el-button',{attrs:{\"type\":\"text\",\"size\":\"small\"},on:{\"click\":function($event){$event.stopPropagation();_vm.lookComment(scope.row)}}},[_vm._v(\"查看评论\")])]}}])})],1),_vm._v(\" \"),_c('pagination',{ref:\"pageInfo\",attrs:{\"total\":_vm.pageInfo.totalElements,\"page\":_vm.pageInfo.currentPage},on:{\"update:page\":function($event){_vm.$set(_vm.pageInfo, \"currentPage\", $event)},\"pagination\":_vm.pagination}}),_vm._v(\" \"),_c('drawer',{staticClass:\"drawer-components\",attrs:{\"title\":\"评论\",\"width\":\"60\",\"right\":\"140\",\"placement\":\"right\"},on:{\"bodyClick\":_vm.handleBodyClick},model:{value:(_vm.visible),callback:function ($$v) {_vm.visible=$$v},expression:\"visible\"}},[_c('el-table',{directives:[{name:\"loading\",rawName:\"v-loading\",value:(_vm.loading2),expression:\"loading2\"}],attrs:{\"header-cell-class-name\":\"tableHeader\",\"data\":_vm.commentTableData,\"element-loading-text\":\"拼命加载中\",\"border\":\"\",\"stripe\":\"\"}},[_c('el-table-column',{attrs:{\"type\":\"index\",\"width\":\"55\",\"align\":\"center\"}}),_vm._v(\" \"),_c('el-table-column',{attrs:{\"prop\":\"useId\",\"label\":\"评论人\",\"align\":\"center\"}}),_vm._v(\" \"),_c('el-table-column',{attrs:{\"label\":\"内容\",\"align\":\"center\",\"min-width\":\"180\",\"show-overflow-tooltip\":\"\"},scopedSlots:_vm._u([{key:\"default\",fn:function(scope){return [_c('span',[_vm._v(_vm._s(scope.row.commentContent))])]}}])}),_vm._v(\" \"),_c('el-table-column',{attrs:{\"label\":\"创建时间\",\"width\":\"200\",\"align\":\"center\"},scopedSlots:_vm._u([{key:\"default\",fn:function(scope){return [_vm._v(_vm._s(_vm._f(\"dateTime\")(scope.row.commentTime,'yyyy-MM-dd hh:mm:ss')))]}}])}),_vm._v(\" \"),_c('el-table-column',{attrs:{\"label\":\"操作\",\"width\":\"100\",\"align\":\"center\"},scopedSlots:_vm._u([{key:\"default\",fn:function(scope){return [_c('el-button',{attrs:{\"type\":\"text \",\"size\":\"mini\"},on:{\"click\":function($event){$event.stopPropagation();_vm.handleDelete(scope.row)}}},[_vm._v(\"删除\")])]}}])})],1),_vm._v(\" \"),_c('pagination',{ref:\"commentPageInfo\",attrs:{\"total\":_vm.commentPageInfo.totalElements,\"page\":_vm.commentPageInfo.currentPage},on:{\"update:page\":function($event){_vm.$set(_vm.commentPageInfo, \"currentPage\", $event)},\"pagination\":_vm.commentPagination}})],1)],1)}\nvar staticRenderFns = []\nvar esExports = { render: render, staticRenderFns: staticRenderFns }\nexport default esExports\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/vue-loader/lib/template-compiler?{\"id\":\"data-v-4475f316\",\"hasScoped\":true,\"transformToRequire\":{\"video\":[\"src\",\"poster\"],\"source\":\"src\",\"img\":\"src\",\"image\":\"xlink:href\"},\"buble\":{\"transforms\":{}}}!./node_modules/vue-loader/lib/selector.js?type=template&index=0!./src/pages/xuanke/topic/list.vue\n// module id = null\n// module chunks = ","function injectStyle (ssrContext) {\n  require(\"!!../../../../node_modules/extract-text-webpack-plugin/dist/loader.js?{\\\"omit\\\":1,\\\"remove\\\":true}!vue-style-loader!css-loader?{\\\"sourceMap\\\":true}!../../../../node_modules/vue-loader/lib/style-compiler/index?{\\\"vue\\\":true,\\\"id\\\":\\\"data-v-4475f316\\\",\\\"scoped\\\":true,\\\"hasInlineConfig\\\":false}!sass-loader?{\\\"sourceMap\\\":true}!sass-resources-loader?{\\\"resources\\\":\\\"D:\\\\\\\\work\\\\\\\\junyang_admin\\\\\\\\src\\\\\\\\assets\\\\\\\\sass\\\\\\\\var.scss\\\"}!../../../../node_modules/vue-loader/lib/selector?type=styles&index=0!./list.vue\")\n}\nvar normalizeComponent = require(\"!../../../../node_modules/vue-loader/lib/component-normalizer\")\n/* script */\nexport * from \"!!babel-loader!../../../../node_modules/vue-loader/lib/selector?type=script&index=0!./list.vue\"\nimport __vue_script__ from \"!!babel-loader!../../../../node_modules/vue-loader/lib/selector?type=script&index=0!./list.vue\"\n/* template */\nimport __vue_template__ from \"!!../../../../node_modules/vue-loader/lib/template-compiler/index?{\\\"id\\\":\\\"data-v-4475f316\\\",\\\"hasScoped\\\":true,\\\"transformToRequire\\\":{\\\"video\\\":[\\\"src\\\",\\\"poster\\\"],\\\"source\\\":\\\"src\\\",\\\"img\\\":\\\"src\\\",\\\"image\\\":\\\"xlink:href\\\"},\\\"buble\\\":{\\\"transforms\\\":{}}}!../../../../node_modules/vue-loader/lib/selector?type=template&index=0!./list.vue\"\n/* template functional */\nvar __vue_template_functional__ = false\n/* styles */\nvar __vue_styles__ = injectStyle\n/* scopeId */\nvar __vue_scopeId__ = \"data-v-4475f316\"\n/* moduleIdentifier (server only) */\nvar __vue_module_identifier__ = null\nvar Component = normalizeComponent(\n  __vue_script__,\n  __vue_template__,\n  __vue_template_functional__,\n  __vue_styles__,\n  __vue_scopeId__,\n  __vue_module_identifier__\n)\n\nexport default Component.exports\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/pages/xuanke/topic/list.vue\n// module id = null\n// module chunks = "],"sourceRoot":""}